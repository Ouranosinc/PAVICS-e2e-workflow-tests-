Started by user admin
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/Ouranosinc/PAVICS-e2e-workflow-tests.git
 > git config remote.origin.url https://github.com/Ouranosinc/PAVICS-e2e-workflow-tests.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
 > git config --get remote.origin.url # timeout=10
 > git fetch --tags --progress -- origin +refs/heads/*:refs/remotes/origin/* # timeout=10
Seen branch in repository origin/current-production-version
Seen branch in repository origin/devel-new-extensions
Seen branch in repository origin/extended_tests
Seen branch in repository origin/make-it-easier-to-add-new-nb-or-repos
Seen branch in repository origin/master
Seen branch in repository origin/new-docker-build
Seen branch in repository origin/test-dockerhub-build
Seen branch in repository origin/twitcher_perf_test_notebook
Seen 8 remote branches
Obtained Jenkinsfile from 971327f0a05b1bfed8febf60080a660a672d5089
Running in Durability level: MAX_SURVIVABILITY
[Pipeline] Start of Pipeline
[Pipeline] node
Running on linux1 in /home/jenkins/agent/workspace/_workflow-tests_new-docker-build
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
No credentials specified
Fetching changes from the remote Git repository
Fetching without tags
Checking out Revision 971327f0a05b1bfed8febf60080a660a672d5089 (new-docker-build)
Commit message: "docker: py311-240610: initial jenkins build, default nb, core dumped !"
 > git rev-parse --is-inside-work-tree # timeout=10
 > git config remote.origin.url https://github.com/Ouranosinc/PAVICS-e2e-workflow-tests.git # timeout=10
Fetching upstream changes from https://github.com/Ouranosinc/PAVICS-e2e-workflow-tests.git
 > git --version # timeout=10
 > git fetch --no-tags --progress -- https://github.com/Ouranosinc/PAVICS-e2e-workflow-tests.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 971327f0a05b1bfed8febf60080a660a672d5089 # timeout=10
 > git rev-list --no-walk 971327f0a05b1bfed8febf60080a660a672d5089 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] isUnix
[Pipeline] sh
+ docker inspect -f . pavics/workflow-tests:py311-240610
.
[Pipeline] withDockerContainer
linux1 seems to be running inside container 77dd366253b3d0b28395369fd38fea0f75346ac413ea9feb6d1f90bb2184b588
$ docker run -t -d -u 1000:1000 -w /home/jenkins/agent/workspace/_workflow-tests_new-docker-build --volumes-from 77dd366253b3d0b28395369fd38fea0f75346ac413ea9feb6d1f90bb2184b588 -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** pavics/workflow-tests:py311-240610 cat
$ docker top aabd1c2a4f4550d7c32bc7018e70eb5a25a83707b6503910a56dd5e3439671b2 -eo pid,comm
[Pipeline] {
[Pipeline] ansiColor
[Pipeline] {
[Pipeline] timestamps
[Pipeline] {
[Pipeline] timeout
[2024-07-30T23:34:32.161Z] Timeout set to expire in 2 hr 0 min
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Run tests)
[Pipeline] script
[Pipeline] {
[Pipeline] withCredentials
[2024-07-30T23:34:32.248Z] Masking supported pattern matches of $ESGF_AUTH_USERNAME or $ESGF_AUTH_PASSWORD or $ESGF_AUTH_TOKEN or $COMPUTE_TOKEN
[Pipeline] {
[Pipeline] sh
[2024-07-30T23:34:32.562Z] + VERIFY_SSL=true SAVE_RESULTING_NOTEBOOK=true ./testall
[2024-07-30T23:34:32.562Z] TEST_PAVICS_SDI_REPO has been set to 'true'
[2024-07-30T23:34:32.562Z] PAVICS_SDI_BRANCH has been set to 'master'
[2024-07-30T23:34:32.562Z] PAVICS_SDI_REPO has been set to 'Ouranosinc/pavics-sdi'
[2024-07-30T23:34:32.562Z] TEST_FINCH_REPO has been set to 'true'
[2024-07-30T23:34:32.562Z] FINCH_BRANCH has been set to 'master'
[2024-07-30T23:34:32.562Z] FINCH_REPO has been set to 'bird-house/finch'
[2024-07-30T23:34:32.562Z] TEST_PAVICS_LANDING_REPO has been set to 'true'
[2024-07-30T23:34:32.562Z] PAVICS_LANDING_BRANCH has been set to 'master'
[2024-07-30T23:34:32.562Z] PAVICS_LANDING_REPO has been set to 'Ouranosinc/PAVICS-landing'
[2024-07-30T23:34:32.562Z] TEST_RAVEN_REPO has been set to 'false'
[2024-07-30T23:34:32.562Z] RAVEN_BRANCH has been set to 'main'
[2024-07-30T23:34:32.562Z] RAVEN_REPO has been set to 'Ouranosinc/raven'
[2024-07-30T23:34:32.562Z] TEST_RAVENPY_REPO has been set to 'false'
[2024-07-30T23:34:32.562Z] RAVENPY_BRANCH has been set to 'master'
[2024-07-30T23:34:32.562Z] RAVENPY_REPO has been set to 'CSHS-CWRA/RavenPy'
[2024-07-30T23:34:32.562Z] TEST_ESGF_COMPUTE_API_REPO has been set to 'false'
[2024-07-30T23:34:32.562Z] ESGF_COMPUTE_API_BRANCH has been set to 'devel'
[2024-07-30T23:34:32.562Z] ESGF_COMPUTE_API_REPO has been set to 'ESGF/esgf-compute-api'
[2024-07-30T23:34:32.562Z] TEST_LOCAL_NOTEBOOKS has been set to 'true'
[2024-07-30T23:34:32.562Z] + [ -n https://gist.githubusercontent.com/tlvu/89115c6586e9d7b91262a68e9c4bc00b/raw/8f230c4fd4b40700a6e18dd755c30a7037db9925/jenkins-params-custom-branch.include.sh ]
[2024-07-30T23:34:32.562Z] + TMP_PARAMS_OVERRIDE=/tmp/jenkins_params_override
[2024-07-30T23:34:32.562Z] + rm -vf /tmp/jenkins_params_override
[2024-07-30T23:34:32.562Z] + curl --silent https://gist.githubusercontent.com/tlvu/89115c6586e9d7b91262a68e9c4bc00b/raw/8f230c4fd4b40700a6e18dd755c30a7037db9925/jenkins-params-custom-branch.include.sh
[2024-07-30T23:34:32.562Z] + tee /tmp/jenkins_params_override
[2024-07-30T23:34:32.832Z] #!/bin/sh
[2024-07-30T23:34:32.832Z] # https://github.com/Ouranosinc/PAVICS-e2e-workflow-tests/blob/master/test-override/jenkins-params-geoserver-nb-only.include.sh
[2024-07-30T23:34:32.832Z] 
[2024-07-30T23:34:32.832Z] # Jenkins params override script to test custom branch,
[2024-07-30T23:34:32.832Z] # good for testing notebook fixes for new Jupyter env build.
[2024-07-30T23:34:32.832Z] 
[2024-07-30T23:34:32.832Z] PAVICS_SDI_BRANCH="new-jupyter-env"
[2024-07-30T23:34:32.832Z] #FINCH_BRANCH=""
[2024-07-30T23:34:32.832Z] PAVICS_LANDING_BRANCH="new-jupyter-env"
[2024-07-30T23:34:32.832Z] 
[2024-07-30T23:34:32.832Z] # Good for refreshing notebook output.
[2024-07-30T23:34:32.832Z] SAVE_RESULTING_NOTEBOOK_TIMEOUT="600"+ . /tmp/jenkins_params_override
[2024-07-30T23:34:32.832Z] + PAVICS_SDI_BRANCH=new-jupyter-env
[2024-07-30T23:34:32.832Z] + PAVICS_LANDING_BRANCH=new-jupyter-env
[2024-07-30T23:34:32.832Z] + SAVE_RESULTING_NOTEBOOK_TIMEOUT=600
[2024-07-30T23:34:32.832Z] + git clean -fdx
[2024-07-30T23:34:32.832Z] Removing .pytest_cache/
[2024-07-30T23:34:32.832Z] Removing PAVICS-landing-master/
[2024-07-30T23:34:32.832Z] Removing RavenPy-master/
[2024-07-30T23:34:32.832Z] Removing __pycache__/
[2024-07-30T23:34:32.832Z] Removing buildout/
[2024-07-30T23:34:32.832Z] Removing esgf-compute-api-devel/
[2024-07-30T23:34:32.832Z] Removing finch-master/
[2024-07-30T23:34:32.832Z] Removing pavics-sdi-master/
[2024-07-30T23:34:32.832Z] Removing raven-main/
[2024-07-30T23:34:32.832Z] + ./downloadrepos
[2024-07-30T23:34:32.832Z] TEST_PAVICS_SDI_REPO has been set to 'true'
[2024-07-30T23:34:32.832Z] PAVICS_SDI_BRANCH has been set to 'new-jupyter-env'
[2024-07-30T23:34:32.832Z] PAVICS_SDI_REPO has been set to 'Ouranosinc/pavics-sdi'
[2024-07-30T23:34:32.832Z] TEST_FINCH_REPO has been set to 'true'
[2024-07-30T23:34:32.832Z] FINCH_BRANCH has been set to 'master'
[2024-07-30T23:34:32.832Z] FINCH_REPO has been set to 'bird-house/finch'
[2024-07-30T23:34:32.832Z] TEST_PAVICS_LANDING_REPO has been set to 'true'
[2024-07-30T23:34:32.832Z] PAVICS_LANDING_BRANCH has been set to 'new-jupyter-env'
[2024-07-30T23:34:32.832Z] PAVICS_LANDING_REPO has been set to 'Ouranosinc/PAVICS-landing'
[2024-07-30T23:34:32.832Z] TEST_RAVEN_REPO has been set to 'false'
[2024-07-30T23:34:32.832Z] RAVEN_BRANCH has been set to 'main'
[2024-07-30T23:34:32.832Z] RAVEN_REPO has been set to 'Ouranosinc/raven'
[2024-07-30T23:34:32.832Z] TEST_RAVENPY_REPO has been set to 'false'
[2024-07-30T23:34:32.832Z] RAVENPY_BRANCH has been set to 'master'
[2024-07-30T23:34:32.832Z] RAVENPY_REPO has been set to 'CSHS-CWRA/RavenPy'
[2024-07-30T23:34:32.832Z] TEST_ESGF_COMPUTE_API_REPO has been set to 'false'
[2024-07-30T23:34:32.832Z] ESGF_COMPUTE_API_BRANCH has been set to 'devel'
[2024-07-30T23:34:32.832Z] ESGF_COMPUTE_API_REPO has been set to 'ESGF/esgf-compute-api'
[2024-07-30T23:34:32.832Z] TEST_LOCAL_NOTEBOOKS has been set to 'true'
[2024-07-30T23:34:32.832Z] + rm -rf pavics-sdi-*
[2024-07-30T23:34:32.832Z] + ls
[2024-07-30T23:34:32.832Z] + grep pavics-sdi
[2024-07-30T23:34:32.832Z] + downloadrepos https://github.com/Ouranosinc/pavics-sdi new-jupyter-env
[2024-07-30T23:34:32.832Z] + github_repo=https://github.com/Ouranosinc/pavics-sdi
[2024-07-30T23:34:32.832Z] + shift
[2024-07-30T23:34:32.832Z] + branch=new-jupyter-env
[2024-07-30T23:34:32.832Z] + shift
[2024-07-30T23:34:32.832Z] + wget --quiet --output-document - https://github.com/Ouranosinc/pavics-sdi/archive/new-jupyter-env.tar.gz
[2024-07-30T23:34:32.832Z] + tar xz
[2024-07-30T23:34:47.745Z] + ls
[2024-07-30T23:34:47.745Z] + grep pavics-sdi
[2024-07-30T23:34:47.745Z] pavics-sdi-new-jupyter-env
[2024-07-30T23:34:47.745Z] + set +x
[2024-07-30T23:34:47.745Z] + rm -rf finch-*
[2024-07-30T23:34:47.745Z] + + ls
[2024-07-30T23:34:47.745Z] grep finch
[2024-07-30T23:34:47.745Z] + downloadrepos https://github.com/bird-house/finch master
[2024-07-30T23:34:47.745Z] + github_repo=https://github.com/bird-house/finch
[2024-07-30T23:34:47.745Z] + shift
[2024-07-30T23:34:47.745Z] + branch=master
[2024-07-30T23:34:47.745Z] + shift
[2024-07-30T23:34:47.745Z] + wget --quiet --output-document - https://github.com/bird-house/finch/archive/master.tar.gz
[2024-07-30T23:34:47.745Z] + tar xz
[2024-07-30T23:34:47.745Z] + ls
[2024-07-30T23:34:47.745Z] + grep finch
[2024-07-30T23:34:47.745Z] finch-master
[2024-07-30T23:34:47.745Z] + set +x
[2024-07-30T23:34:47.745Z] + rm -rf PAVICS-landing-*
[2024-07-30T23:34:47.745Z] + ls
[2024-07-30T23:34:47.745Z] + grep PAVICS-landing
[2024-07-30T23:34:47.745Z] + downloadrepos https://github.com/Ouranosinc/PAVICS-landing new-jupyter-env
[2024-07-30T23:34:47.745Z] + github_repo=https://github.com/Ouranosinc/PAVICS-landing
[2024-07-30T23:34:47.745Z] + shift
[2024-07-30T23:34:47.745Z] + branch=new-jupyter-env
[2024-07-30T23:34:47.745Z] + shift
[2024-07-30T23:34:47.745Z] + wget --quiet --output-document - https://github.com/Ouranosinc/PAVICS-landing/archive/new-jupyter-env.tar.gz
[2024-07-30T23:34:47.745Z] + tar xz
[2024-07-30T23:37:09.324Z] + ls
[2024-07-30T23:37:09.324Z] + grep PAVICS-landing
[2024-07-30T23:37:09.324Z] PAVICS-landing-new-jupyter-env
[2024-07-30T23:37:09.324Z] + set +x
[2024-07-30T23:37:09.324Z] + rm -rf raven-*
[2024-07-30T23:37:09.324Z] + ls
[2024-07-30T23:37:09.324Z] + grep raven
[2024-07-30T23:37:09.324Z] + downloadrepos https://github.com/Ouranosinc/raven main
[2024-07-30T23:37:09.324Z] + github_repo=https://github.com/Ouranosinc/raven
[2024-07-30T23:37:09.324Z] + shift
[2024-07-30T23:37:09.324Z] + branch=main
[2024-07-30T23:37:09.324Z] + shift
[2024-07-30T23:37:09.324Z] + wget --quiet --output-document - https://github.com/Ouranosinc/raven/archive/main.tar.gz
[2024-07-30T23:37:09.324Z] + tar xz
[2024-07-30T23:37:09.324Z] + ls
[2024-07-30T23:37:09.324Z] + grep raven
[2024-07-30T23:37:09.324Z] raven-main
[2024-07-30T23:37:09.324Z] + set +x
[2024-07-30T23:37:09.324Z] + rm -rf RavenPy-*
[2024-07-30T23:37:09.324Z] + ls
[2024-07-30T23:37:09.324Z] + grep RavenPy
[2024-07-30T23:37:09.324Z] + downloadrepos https://github.com/CSHS-CWRA/RavenPy master
[2024-07-30T23:37:09.324Z] + github_repo=https://github.com/CSHS-CWRA/RavenPy
[2024-07-30T23:37:09.324Z] + shift
[2024-07-30T23:37:09.324Z] + branch=master
[2024-07-30T23:37:09.324Z] + shift
[2024-07-30T23:37:09.325Z] + + wget --quiet --output-document - https://github.com/CSHS-CWRA/RavenPy/archive/master.tar.gztar
[2024-07-30T23:37:09.325Z]  xz
[2024-07-30T23:37:09.325Z] + ls
[2024-07-30T23:37:09.325Z] + grep RavenPy
[2024-07-30T23:37:09.325Z] RavenPy-master
[2024-07-30T23:37:09.325Z] + set +x
[2024-07-30T23:37:09.325Z] + rm -rf esgf-compute-api-*
[2024-07-30T23:37:09.325Z] + ls
[2024-07-30T23:37:09.325Z] + grep esgf-compute-api
[2024-07-30T23:37:09.325Z] + downloadrepos https://github.com/ESGF/esgf-compute-api devel
[2024-07-30T23:37:09.325Z] + github_repo=https://github.com/ESGF/esgf-compute-api
[2024-07-30T23:37:09.325Z] + shift
[2024-07-30T23:37:09.325Z] + branch=devel
[2024-07-30T23:37:09.325Z] + shift
[2024-07-30T23:37:09.325Z] + wget --quiet --output-document - https://github.com/ESGF/esgf-compute-api/archive/devel.tar.gz
[2024-07-30T23:37:09.325Z] + tar xz
[2024-07-30T23:37:09.590Z] + ls+ 
[2024-07-30T23:37:09.590Z] grep esgf-compute-api
[2024-07-30T23:37:09.590Z] esgf-compute-api-devel
[2024-07-30T23:37:09.590Z] + set +x
[2024-07-30T23:37:09.590Z] + echo new-jupyter-env
[2024-07-30T23:37:09.590Z] + sed s@/@-@g
[2024-07-30T23:37:09.590Z] + export PAVICS_SDI_BRANCH=new-jupyter-env
[2024-07-30T23:37:09.590Z] + echo Ouranosinc/pavics-sdi
[2024-07-30T23:37:09.590Z] + sed s@^.*/@@g
[2024-07-30T23:37:09.590Z] + export PAVICS_SDI_REPO_NAME=pavics-sdi
[2024-07-30T23:37:09.590Z] + echo master
[2024-07-30T23:37:09.590Z] + sed s@/@-@g
[2024-07-30T23:37:09.590Z] + export FINCH_BRANCH=master
[2024-07-30T23:37:09.590Z] + echo bird-house/finch
[2024-07-30T23:37:09.590Z] + sed s@^.*/@@g
[2024-07-30T23:37:09.590Z] + export FINCH_REPO_NAME=finch
[2024-07-30T23:37:09.590Z] + echo new-jupyter-env
[2024-07-30T23:37:09.590Z] + sed s@/@-@g
[2024-07-30T23:37:09.590Z] + export PAVICS_LANDING_BRANCH=new-jupyter-env
[2024-07-30T23:37:09.590Z] + echo Ouranosinc/PAVICS-landing
[2024-07-30T23:37:09.590Z] + sed s@^.*/@@g
[2024-07-30T23:37:09.590Z] + export PAVICS_LANDING_REPO_NAME=PAVICS-landing
[2024-07-30T23:37:09.590Z] + echo main
[2024-07-30T23:37:09.590Z] + sed s@/@-@g
[2024-07-30T23:37:09.590Z] + export RAVEN_BRANCH=main
[2024-07-30T23:37:09.590Z] + echo Ouranosinc/raven
[2024-07-30T23:37:09.590Z] + sed s@^.*/@@g
[2024-07-30T23:37:09.590Z] + export RAVEN_REPO_NAME=raven
[2024-07-30T23:37:09.590Z] + echo master
[2024-07-30T23:37:09.590Z] + sed s@/@-@g
[2024-07-30T23:37:09.590Z] + export RAVENPY_BRANCH=master
[2024-07-30T23:37:09.590Z] + echo CSHS-CWRA/RavenPy
[2024-07-30T23:37:09.590Z] + sed s@^.*/@@g
[2024-07-30T23:37:09.590Z] + export RAVENPY_REPO_NAME=RavenPy
[2024-07-30T23:37:09.590Z] + echo devel
[2024-07-30T23:37:09.590Z] + sed s@/@-@g
[2024-07-30T23:37:09.590Z] + export ESGF_COMPUTE_API_BRANCH=devel
[2024-07-30T23:37:09.590Z] + echo ESGF/esgf-compute-api
[2024-07-30T23:37:09.590Z] + sed s@^.*/@@g
[2024-07-30T23:37:09.590Z] + export ESGF_COMPUTE_API_REPO_NAME=esgf-compute-api
[2024-07-30T23:37:09.590Z] + echo pavics-sdi-new-jupyter-env
[2024-07-30T23:37:09.590Z] + sed s@[^a-zA-Z0-9_\-\.]@-@g
[2024-07-30T23:37:09.590Z] + export PAVICS_SDI_DIR=pavics-sdi-new-jupyter-env
[2024-07-30T23:37:09.590Z] + echo finch-master
[2024-07-30T23:37:09.590Z] + sed s@[^a-zA-Z0-9_\-\.]@-@g
[2024-07-30T23:37:09.590Z] + export FINCH_DIR=finch-master
[2024-07-30T23:37:09.590Z] + echo PAVICS-landing-new-jupyter-env
[2024-07-30T23:37:09.590Z] + sed s@[^a-zA-Z0-9_\-\.]@-@g
[2024-07-30T23:37:09.590Z] + export PAVICS_LANDING_DIR=PAVICS-landing-new-jupyter-env
[2024-07-30T23:37:09.590Z] + echo raven-main
[2024-07-30T23:37:09.590Z] + sed s@[^a-zA-Z0-9_\-\.]@-@g
[2024-07-30T23:37:09.590Z] + export RAVEN_DIR=raven-main
[2024-07-30T23:37:09.590Z] + echo RavenPy-master
[2024-07-30T23:37:09.590Z] + sed s@[^a-zA-Z0-9_\-\.]@-@g
[2024-07-30T23:37:09.590Z] + export RAVENPY_DIR=RavenPy-master
[2024-07-30T23:37:09.590Z] + echo esgf-compute-api-devel
[2024-07-30T23:37:09.590Z] + sed s@[^a-zA-Z0-9_\-\.]@-@g
[2024-07-30T23:37:09.590Z] + export ESGF_COMPUTE_API_DIR=esgf-compute-api-devel
[2024-07-30T23:37:09.590Z] + echo true
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + VERIFY_SSL=true
[2024-07-30T23:37:09.590Z] + [ xtrue = xfalse ]
[2024-07-30T23:37:09.590Z] + rm -v finch-master/setup.cfg
[2024-07-30T23:37:09.590Z] removed 'finch-master/setup.cfg'
[2024-07-30T23:37:09.590Z] + rm -v raven-main/setup.cfg
[2024-07-30T23:37:09.590Z] removed 'raven-main/setup.cfg'
[2024-07-30T23:37:09.590Z] + rm -v raven-main/pyproject.toml
[2024-07-30T23:37:09.590Z] removed 'raven-main/pyproject.toml'
[2024-07-30T23:37:09.590Z] + rm -v RavenPy-master/setup.cfg
[2024-07-30T23:37:09.590Z] removed 'RavenPy-master/setup.cfg'
[2024-07-30T23:37:09.590Z] + rm -v RavenPy-master/tox.ini
[2024-07-30T23:37:09.590Z] removed 'RavenPy-master/tox.ini'
[2024-07-30T23:37:09.590Z] + rm -v RavenPy-master/pyproject.toml
[2024-07-30T23:37:09.590Z] removed 'RavenPy-master/pyproject.toml'
[2024-07-30T23:37:09.590Z] + rm -v esgf-compute-api-devel/setup.cfg
[2024-07-30T23:37:09.590Z] rm: cannot remove 'esgf-compute-api-devel/setup.cfg': No such file or directory
[2024-07-30T23:37:09.590Z] + rm -v esgf-compute-api-devel/tox.ini
[2024-07-30T23:37:09.590Z] rm: cannot remove 'esgf-compute-api-devel/tox.ini': No such file or directory
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + echo false
[2024-07-30T23:37:09.590Z] + TEST_MAGPIE_AUTH=false
[2024-07-30T23:37:09.590Z] + echo true
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_PAVICS_SDI_REPO=true
[2024-07-30T23:37:09.590Z] + echo false
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_PAVICS_SDI_WEAVER=false
[2024-07-30T23:37:09.590Z] + echo true
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_FINCH_REPO=true
[2024-07-30T23:37:09.590Z] + echo true
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_PAVICS_LANDING_REPO=true
[2024-07-30T23:37:09.590Z] + echo false
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_RAVEN_REPO=false
[2024-07-30T23:37:09.590Z] + echo false
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_RAVENPY_REPO=false
[2024-07-30T23:37:09.590Z] + echo false
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_ESGF_COMPUTE_API_REPO=false
[2024-07-30T23:37:09.590Z] + echo true
[2024-07-30T23:37:09.590Z] + tr [:upper:] [:lower:]
[2024-07-30T23:37:09.590Z] + TEST_LOCAL_NOTEBOOKS=true
[2024-07-30T23:37:09.590Z] + NOTEBOOKS_TO_TEST=
[2024-07-30T23:37:09.590Z] + [ xfalse = xtrue ]
[2024-07-30T23:37:09.590Z] + [ xtrue = xtrue ]
[2024-07-30T23:37:09.590Z] + NOTEBOOKS_TO_TEST= pavics-sdi-new-jupyter-env/docs/source/notebooks/*.ipynb
[2024-07-30T23:37:09.590Z] + [ xfalse = xtrue ]
[2024-07-30T23:37:09.590Z] + [ xtrue = xtrue ]
[2024-07-30T23:37:09.590Z] + NOTEBOOKS_TO_TEST= pavics-sdi-new-jupyter-env/docs/source/notebooks/*.ipynb finch-master/docs/source/notebooks/*.ipynb
[2024-07-30T23:37:09.590Z] + [ xtrue = xtrue ]
[2024-07-30T23:37:09.590Z] + NOTEBOOKS_TO_TEST= pavics-sdi-new-jupyter-env/docs/source/notebooks/*.ipynb finch-master/docs/source/notebooks/*.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/*.ipynb
[2024-07-30T23:37:09.591Z] + NOTEBOOKS_TO_TEST= pavics-sdi-new-jupyter-env/docs/source/notebooks/*.ipynb finch-master/docs/source/notebooks/*.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/*.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/*.ipynb
[2024-07-30T23:37:09.591Z] + SETUP_SCRIPT=PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/setup_dirlayout.sh
[2024-07-30T23:37:09.591Z] + [ -x PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/setup_dirlayout.sh ]
[2024-07-30T23:37:09.591Z] + PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/setup_dirlayout.sh
[2024-07-30T23:37:09.591Z] + realpath PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/setup_dirlayout.sh
[2024-07-30T23:37:09.591Z] + THIS_FILE=/home/jenkins/agent/workspace/_workflow-tests_new-docker-build/PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/setup_dirlayout.sh
[2024-07-30T23:37:09.591Z] + dirname /home/jenkins/agent/workspace/_workflow-tests_new-docker-build/PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/setup_dirlayout.sh
[2024-07-30T23:37:09.591Z] + THIS_DIR=/home/jenkins/agent/workspace/_workflow-tests_new-docker-build/PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators
[2024-07-30T23:37:09.591Z] + NOTEBOOK_3_OUTDIR_BASE=/notebook_dir/writable-workspace/tmp/tutorial3
[2024-07-30T23:37:09.591Z] + mkdir -p /notebook_dir/writable-workspace/tmp/tutorial3
[2024-07-30T23:37:09.591Z] + unzip /home/jenkins/agent/workspace/_workflow-tests_new-docker-build/PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/output.zip -d /notebook_dir/writable-workspace/tmp/tutorial3/
[2024-07-30T23:37:09.591Z] Archive:  /home/jenkins/agent/workspace/_workflow-tests_new-docker-build/PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/output.zip
[2024-07-30T23:37:09.591Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_IPSL-CM5A-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.591Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_NorESM1-M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.591Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_NorESM1-M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.591Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_MPI-ESM-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.591Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_MPI-ESM-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.591Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_IPSL-CM5B-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.857Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_IPSL-CM5B-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_IPSL-CM5A-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_IPSL-CM5A-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_INM-CM4_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_INM-CM4_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_HadGEM2-CC_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_HadGEM2-CC_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_GFDL-ESM2M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_GFDL-ESM2M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_CanESM2_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_CanESM2_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_CMCC-CMS_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_CMCC-CMS_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_BNU-ESM_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_BNU-ESM_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_ACCESS1-3_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-QS-DEC_ACCESS1-3_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_NorESM1-M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_NorESM1-M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_MPI-ESM-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_MPI-ESM-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_IPSL-CM5B-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_IPSL-CM5B-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:09.858Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_IPSL-CM5A-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_INM-CM4_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_INM-CM4_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_HadGEM2-CC_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_HadGEM2-CC_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_GFDL-ESM2M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_GFDL-ESM2M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_CanESM2_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_CanESM2_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_CMCC-CMS_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_CMCC-CMS_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_BNU-ESM_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_BNU-ESM_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_ACCESS1-3_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_days_above_27_degC-YS_ACCESS1-3_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_NorESM1-M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_NorESM1-M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_MPI-ESM-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_MPI-ESM-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_IPSL-CM5B-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_IPSL-CM5B-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_IPSL-CM5A-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_IPSL-CM5A-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_INM-CM4_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_INM-CM4_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_HadGEM2-CC_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_HadGEM2-CC_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_GFDL-ESM2M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.122Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_GFDL-ESM2M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_CanESM2_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_CanESM2_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_CMCC-CMS_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_CMCC-CMS_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_BNU-ESM_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_BNU-ESM_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_ACCESS1-3_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_QS-DEC_ACCESS1-3_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_NorESM1-M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_NorESM1-M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_MPI-ESM-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_MPI-ESM-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_IPSL-CM5B-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_IPSL-CM5B-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_IPSL-CM5A-LR_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_IPSL-CM5A-LR_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_INM-CM4_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_INM-CM4_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_HadGEM2-CC_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_HadGEM2-CC_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_GFDL-ESM2M_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_GFDL-ESM2M_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_CanESM2_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_CanESM2_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_CMCC-CMS_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_CMCC-CMS_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_BNU-ESM_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_BNU-ESM_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_ACCESS1-3_historical+rcp85_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z]   inflating: /notebook_dir/writable-workspace/tmp/tutorial3/output/tx_mean_YS_ACCESS1-3_historical+rcp45_r1i1p1_na10kgrid_qm-moving-50bins-detrend_1970-2100.nc  
[2024-07-30T23:37:10.386Z] + HOMEPAGE_ROOT_DIR=/notebook_dir/pavics-homepage
[2024-07-30T23:37:10.386Z] + mkdir -p /notebook_dir/pavics-homepage
[2024-07-30T23:37:10.386Z] + ln -sv /home/jenkins/agent/workspace/_workflow-tests_new-docker-build/PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/tutorial_data /notebook_dir/pavics-homepage/tutorial_data
[2024-07-30T23:37:10.386Z] '/notebook_dir/pavics-homepage/tutorial_data' -> '/home/jenkins/agent/workspace/_workflow-tests_new-docker-build/PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/tutorial_data'
[2024-07-30T23:37:10.386Z] + [ xfalse = xtrue ]
[2024-07-30T23:37:10.386Z] + [ xfalse = xtrue ]
[2024-07-30T23:37:10.386Z] + [ xfalse = xtrue ]
[2024-07-30T23:37:10.386Z] + [ xtrue = xtrue ]
[2024-07-30T23:37:10.386Z] + NOTEBOOKS_TO_TEST= pavics-sdi-new-jupyter-env/docs/source/notebooks/*.ipynb finch-master/docs/source/notebooks/*.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/*.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/*.ipynb notebooks/*.ipynb
[2024-07-30T23:37:10.386Z] + ./runtest  pavics-sdi-new-jupyter-env/docs/source/notebooks/*.ipynb finch-master/docs/source/notebooks/*.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/*.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/*.ipynb notebooks/*.ipynb
[2024-07-30T23:37:10.386Z] + [ -n  ]
[2024-07-30T23:37:10.386Z] + [ ! -z pavics.ouranos.ca ]
[2024-07-30T23:37:10.386Z] + echo Will run notebooks against pavics.ouranos.ca
[2024-07-30T23:37:10.386Z] Will run notebooks against pavics.ouranos.ca
[2024-07-30T23:37:10.386Z] + [ -z  ]
[2024-07-30T23:37:10.390Z] + sed -i /\(\.ncml\|TEST_USE_PROD_DATA\)/!s/pavics.ouranos.ca/pavics.ouranos.ca/g pavics-sdi-new-jupyter-env/docs/source/notebooks/CaSR_basic.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WCS_example.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WFS_example.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WMS_example.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-climate-stations.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-xclim.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/esgf-dap.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/forecasts.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/jupyter_extensions.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/opendap.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/pavics_thredds.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/regridding.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/rendering.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/subset-user-input.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/subsetting.ipynb finch-master/docs/source/notebooks/dap_subset.ipynb finch-master/docs/source/notebooks/finch-usage.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-4Ensembles.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-5Visualization.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb notebooks/hummingbird.ipynb notebooks/stress-tests.ipynb
[2024-07-30T23:37:10.390Z] + git diff
[2024-07-30T23:37:10.390Z] + export PYTHONWARNINGS=ignore:Unverified HTTPS request
[2024-07-30T23:37:10.390Z] + [ -n  ]
[2024-07-30T23:37:10.390Z] + py.test --nbval pavics-sdi-new-jupyter-env/docs/source/notebooks/CaSR_basic.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WCS_example.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WFS_example.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WMS_example.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-climate-stations.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-xclim.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/esgf-dap.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/forecasts.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/jupyter_extensions.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/opendap.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/pavics_thredds.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/regridding.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/rendering.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/subset-user-input.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/subsetting.ipynb finch-master/docs/source/notebooks/dap_subset.ipynb finch-master/docs/source/notebooks/finch-usage.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-4Ensembles.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-5Visualization.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb notebooks/hummingbird.ipynb notebooks/stress-tests.ipynb --nbval-sanitize-with notebooks/output-sanitize.cfg --dist=loadscope --numprocesses=0
[2024-07-30T23:37:13.715Z] ============================= test session starts ==============================
[2024-07-30T23:37:13.715Z] platform linux -- Python 3.11.6, pytest-8.2.2, pluggy-1.5.0
[2024-07-30T23:37:13.715Z] rootdir: /home/jenkins/agent/workspace/_workflow-tests_new-docker-build
[2024-07-30T23:37:13.715Z] plugins: anyio-4.4.0, dash-2.17.0, nbval-0.11.0, tornasync-0.6.0.post2, xdist-3.5.0
[2024-07-30T23:37:13.715Z] collected 268 items
[2024-07-30T23:37:13.715Z] 
[2024-07-30T23:38:07.508Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/CaSR_basic.ipynb ...... [  2%]
[2024-07-30T23:38:07.508Z]                                                                          [  2%]
[2024-07-30T23:38:15.063Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/WCS_example.ipynb ..... [  4%]
[2024-07-30T23:38:17.329Z] ..                                                                       [  4%]
[2024-07-30T23:38:25.834Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/WFS_example.ipynb ..... [  6%]
[2024-07-30T23:38:25.834Z] .                                                                        [  7%]
[2024-07-30T23:38:32.717Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/WMS_example.ipynb ..... [  8%]
[2024-07-30T23:38:35.604Z] ...                                                                      [ 10%]
[2024-07-30T23:43:04.906Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb ........F. [ 13%]
[2024-07-30T23:43:04.906Z] ..                                                                       [ 14%]
[2024-07-30T23:43:04.906Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-climate-stations.ipynb . [ 14%]
[2024-07-30T23:43:05.761Z] ...............                                                          [ 20%]
[2024-07-30T23:43:08.314Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-xclim.ipynb . [ 20%]
[2024-07-30T23:43:14.434Z] ....                                                                     [ 22%]
[2024-07-30T23:43:21.427Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/esgf-dap.ipynb ......   [ 24%]
[2024-07-30T23:43:38.376Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/forecasts.ipynb ......  [ 26%]
[2024-07-30T23:43:47.403Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/opendap.ipynb .......   [ 29%]
[2024-07-30T23:43:50.250Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/pavics_thredds.ipynb .. [ 30%]
[2024-07-30T23:43:54.093Z] ...                                                                      [ 31%]
[2024-07-30T23:44:13.957Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/regridding.ipynb ...... [ 33%]
[2024-07-30T23:45:42.862Z] ......................                                                   [ 41%]
[2024-07-30T23:45:43.384Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/rendering.ipynb ....    [ 43%]
[2024-07-30T23:45:44.427Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/subset-user-input.ipynb . [ 43%]
[2024-07-30T23:46:04.349Z] ........................                                                 [ 52%]
[2024-07-30T23:46:12.902Z] pavics-sdi-new-jupyter-env/docs/source/notebooks/subsetting.ipynb ...... [ 54%]
[2024-07-30T23:46:12.902Z]                                                                          [ 54%]
[2024-07-30T23:46:22.093Z] finch-master/docs/source/notebooks/dap_subset.ipynb ...........          [ 58%]
[2024-07-30T23:46:31.324Z] finch-master/docs/source/notebooks/finch-usage.ipynb ......              [ 61%]
[2024-07-30T23:46:32.717Z] PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb . [ 61%]
[2024-07-30T23:46:36.294Z] ......                                                                   [ 63%]
[2024-07-30T23:46:44.488Z] PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb . [ 64%]
[2024-07-30T23:46:58.292Z] .............                                                            [ 69%]
[2024-07-30T23:47:06.448Z] PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb . [ 69%]
[2024-07-30T23:47:30.138Z] ....s                                                                    [ 71%]
[2024-07-30T23:47:38.303Z] PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-4Ensembles.ipynb . [ 71%]
[2024-07-30T23:47:49.796Z] ..                                                                       [ 72%]
[2024-07-30T23:48:02.003Z] PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-5Visualization.ipynb . [ 72%]
[2024-07-30T23:49:01.760Z] ......                                                                   [ 75%]
[2024-07-30T23:49:02.376Z] PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb . [ 75%]
[2024-07-30T23:49:13.530Z] ..F.F.F.FF..F..F                                                         [ 81%]
[2024-07-30T23:49:18.821Z] PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb . [ 81%]
[2024-07-30T23:49:21.020Z] FFF                                                                      [ 82%]
[2024-07-30T23:49:26.296Z] PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb F [ 83%]
[2024-07-30T23:49:28.482Z] FFFFF                                                                    [ 85%]
[2024-07-30T23:49:33.759Z] PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb . [ 85%]
[2024-07-30T23:49:35.697Z] FFFFFFF                                                                  [ 88%]
[2024-07-30T23:49:45.713Z] PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb . [ 88%]
[2024-07-30T23:50:05.631Z] FFFFF.FFF.FFF                                                            [ 93%]
[2024-07-30T23:50:08.739Z] notebooks/hummingbird.ipynb ............                                 [ 97%]
[2024-07-30T23:52:18.440Z] notebooks/stress-tests.ipynb ......                                      [100%]
[2024-07-30T23:52:18.440Z] 
[2024-07-30T23:52:18.440Z] =================================== FAILURES ===================================
[2024-07-30T23:52:18.440Z] ____ pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb::Cell 8 _____
[2024-07-30T23:52:18.440Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.440Z] [94mCell 8: Cell outputs differ
[2024-07-30T23:52:18.440Z] 
[2024-07-30T23:52:18.440Z] Input:
[2024-07-30T23:52:18.440Z] [0m# Subset over the Montreal gridpoint
[2024-07-30T23:52:18.441Z] ds = xr.open_dataset(url, chunks=dict(realization=1, time=365 * 50, rlon=25, rlat=25))
[2024-07-30T23:52:18.441Z] pt = subset_gridpoint(ds, lon=-73.69, lat=45.50)
[2024-07-30T23:52:18.441Z] print("Input dataset for Montreal :")
[2024-07-30T23:52:18.441Z] display(pt)
[2024-07-30T23:52:18.441Z] out = xclim.atmos.max_1day_precipitation_amount(pr=pt.pr, freq="YS")
[2024-07-30T23:52:18.441Z] print("Maximim 1-day precipitation `lazy` output ..")
[2024-07-30T23:52:18.441Z] out
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] [94mTraceback:[0m
[2024-07-30T23:52:18.441Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]   '<xarray.Data...N.string1:  1' == '<xarray.Data...N.string1:  1'
[2024-07-30T23:52:18.441Z]   
[2024-07-30T23:52:18.441Z]   Skipping 37 identical leading characters in diff, use -v to show
[2024-07-30T23:52:18.441Z]   Skipping 1439 identical trailing characters in diff, use -v to show
[2024-07-30T23:52:18.441Z]   - s:       (realization: 50, time: 52924)
[2024-07-30T23:52:18.441Z]   + s:       (time: 52924, realization: 50)
[2024-07-30T23:52:18.441Z]     Coordin
[2024-07-30T23:52:18.441Z] [0m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 3 _
[2024-07-30T23:52:18.441Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.441Z] [94mCell 3: Cell outputs differ
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] Input:
[2024-07-30T23:52:18.441Z] [0mdf = gpd.read_file(feature_url)
[2024-07-30T23:52:18.441Z] display(df)
[2024-07-30T23:52:18.441Z] df.plot()
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] [94mTraceback:[0m
[2024-07-30T23:52:18.441Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]   '  id  COAST ...1.36210 ...  ' == '  id    HYBA...1.36210 ...  '
[2024-07-30T23:52:18.441Z]   
[2024-07-30T23:52:18.441Z]   Skipping 105 identical trailing characters in diff, use -v to show
[2024-07-30T23:52:18.441Z]   -   id    HYBAS_ID   NEXT_DOWN   NEXT_SINK    MAIN_BAS  DIST_SINK  DIST_MAIN  \
[2024-07-30T23:52:18.441Z]   - 0  0  7120270182  7120270181  7120034330  7120034330      490.9      490.9   
[2024-07-30T23:52:18.441Z]   +   id  COAST  DIST_MAIN  DIST_SINK  ENDO    HYBAS_ID  LAKE    MAIN_BAS  \
[2024-07-30T23:52:18.441Z]   + 0  0      0      490.9      490.9     0  7120270182     0  7120034330   
[2024-07-30T23:52:18.441Z]     
[2024-07-30T23:52:18.441Z]   -    SUB_AREA  UP_AREA       PFAF_ID SIDE  LAKE  ENDO  COAST  ORDER   SORT  \
[2024-07-30T23:52:18.441Z]   - 0        29   9419.6  724089370000    R     0     0      0      1  96929   
[2024-07-30T23:52:18.441Z]   +     NEXT_DOWN   NEXT_SINK  ORDER       PFAF_ID SIDE   SORT  SUB_AREA  UP_AREA  \
[2024-07-30T23:52:18.441Z]   + 0  7120270181  7120034330      1  724089370000    R  96929        29   9419.6   
[2024-07-30T23:52:18.441Z]     
[2024-07-30T23:52:18.441Z]         
[2024-07-30T23:52:18.441Z] [0m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 5 _
[2024-07-30T23:52:18.441Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.441Z] [94mCell 5: Cell outputs differ
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] Input:
[2024-07-30T23:52:18.441Z] [0m[properties] = shape_resp.get(asobj=True)
[2024-07-30T23:52:18.441Z] prop = properties[0]
[2024-07-30T23:52:18.441Z] display(prop)
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] area = prop["area"] / 1000000.0
[2024-07-30T23:52:18.441Z] longitude = prop["centroid"][0]
[2024-07-30T23:52:18.441Z] latitude = prop["centroid"][1]
[2024-07-30T23:52:18.441Z] gravelius = prop["gravelius"]
[2024-07-30T23:52:18.441Z] perimeter = prop["perimeter"]
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] shape_info = {
[2024-07-30T23:52:18.441Z]     "area": area,
[2024-07-30T23:52:18.441Z]     "longitude": longitude,
[2024-07-30T23:52:18.441Z]     "latitude": latitude,
[2024-07-30T23:52:18.441Z]     "gravelius": gravelius,
[2024-07-30T23:52:18.441Z]     "perimeter": perimeter,
[2024-07-30T23:52:18.441Z] }
[2024-07-30T23:52:18.441Z] display(shape_info)
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] [94mTraceback:[0m
[2024-07-30T23:52:18.441Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]   "{'id': '0',\...629751937897}" == "{'id': '0',\...297521025815}"
[2024-07-30T23:52:18.441Z]   
[2024-07-30T23:52:18.441Z]     {'id': '0',
[2024-07-30T23:52:18.441Z]   +  'COAST': 0,
[2024-07-30T23:52:18.441Z]   +  'DIST_MAIN': 490.9,
[2024-07-30T23:52:18.441Z]   +  'DIST_SINK': 490.9,
[2024-07-30T23:52:18.441Z]   +  'ENDO': 0,
[2024-07-30T23:52:18.441Z]      'HYBAS_ID': 7120270182,
[2024-07-30T23:52:18.441Z]   +  'LAKE': 0,
[2024-07-30T23:52:18.441Z]   +  'MAIN_BAS': 7120034330,
[2024-07-30T23:52:18.441Z]      'NEXT_DOWN': 7120270181,
[2024-07-30T23:52:18.441Z]      'NEXT_SINK': 7120034330,
[2024-07-30T23:52:18.441Z]   -  'MAIN_BAS': 7120034330,
[2024-07-30T23:52:18.441Z]   -  'DIST_SINK': 490.9,
[2024-07-30T23:52:18.441Z]   -  'DIST_MAIN': 490.9,
[2024-07-30T23:52:18.441Z]   +  'ORDER': 1,
[2024-07-30T23:52:18.441Z]   +  'PFAF_ID': 724089370000,
[2024-07-30T23:52:18.441Z]   +  'SIDE': 'R',
[2024-07-30T23:52:18.441Z]   +  'SORT': 96929,
[2024-07-30T23:52:18.441Z]      'SUB_AREA': 29,
[2024-07-30T23:52:18.441Z]      'UP_AREA': 9419.6,
[2024-07-30T23:52:18.441Z]   +  'area': 28764841.28349778,
[2024-07-30T23:52:18.441Z]   -  'PFAF_ID': 724089370000,
[2024-07-30T23:52:18.441Z]   -  'SIDE': 'R',
[2024-07-30T23:52:18.441Z]   -  'LAKE': 0,
[2024-07-30T23:52:18.441Z]   -  'ENDO': 0,
[2024-07-30T23:52:18.441Z]   -  'COAST': 0,
[2024-07-30T23:52:18.441Z]   -  'ORDER': 1,
[2024-07-30T23:52:18.441Z]   -  'SORT': 96929,
[2024-07-30T23:52:18.441Z]   -  'area': 28764849.46504,
[2024-07-30T23:52:18.441Z]      'centroid': [-71.3409808346398, 50.478880424555875],
[2024-07-30T23:52:18.441Z]   -  'perimeter': 33017.42666655506,
[2024-07-30T23:52:18.441Z]   ?                        ^^^   ^^
[2024-07-30T23:52:18.441Z]   +  'perimeter': 33017.421967875554,
[2024-07-30T23:52:18.441Z]   ?                       ++ ^^^   ^
[2024-07-30T23:52:18.441Z]   -  'gravelius': 1.7366297521025815}
[2024-07-30T23:52:18.441Z]   ?                         - ^^^ ^^
[2024-07-30T23:52:18.441Z]   +  'gravelius': 1.736629751937897}
[2024-07-30T23:52:18.441Z]   ?                          ^^^ ^^
[2024-07-30T23:52:18.441Z] [0m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 7 _
[2024-07-30T23:52:18.441Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.441Z] [94mCell 7: Cell outputs differ
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] Input:
[2024-07-30T23:52:18.441Z] [0mfeatures, statistics, grid = stats_resp.get(asobj=True)
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] grid[0].plot()
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] [94mTraceback:[0m
[2024-07-30T23:52:18.441Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]   'Metalink con...set_1.tiff.\n' == 'Downloading ...set_1.tiff.\n'
[2024-07-30T23:52:18.441Z]   
[2024-07-30T23:52:18.441Z]   + Metalink content-type detected.
[2024-07-30T23:52:18.441Z]     Downloading to /tmp/tmpRANDOM/subset_1.tiff.
[2024-07-30T23:52:18.441Z] [0m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 9 _
[2024-07-30T23:52:18.441Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.441Z] [94mCell 9: Cell outputs differ
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] Input:
[2024-07-30T23:52:18.441Z] [0mgrid[0]
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z] [94mTraceback:[0m
[2024-07-30T23:52:18.441Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.441Z] 
[2024-07-30T23:52:18.441Z]   '<xarray.Data..._POINT:  Area' == '<xarray.Data..._POINT:  Area'
[2024-07-30T23:52:18.441Z]   
[2024-07-30T23:52:18.441Z]   - <xarray.DataArray 'band_data' (band: 1, y: 385, x: 204)> Size: 314kB
[2024-07-30T23:52:18.441Z]   ?                   ------------                          ------------
[2024-07-30T23:52:18.441Z]   + <xarray.DataArray (band: 1, y: 385, x: 204)>
[2024-07-30T23:52:18.442Z]   - [78540 values with dtype=float32]
[2024-07-30T23:52:18.442Z]   + array([[[127, 127, ..., 127, 127],
[2024-07-30T23:52:18.442Z]   +         [127, 127, ..., 127, 127],
[2024-07-30T23:52:18.442Z]   +         ...,
[2024-07-30T23:52:18.442Z]   +         [127, 127, ..., 127, 127],
[2024-07-30T23:52:18.442Z]   +         [127, 127, ..., 127, 127]]], dtype=uint8)
[2024-07-30T23:52:18.442Z]     Coordinates:
[2024-07-30T23:52:18.442Z]   -   * band         (band) int64 8B 1
[2024-07-30T23:52:18.442Z]   ?         ----                  ---
[2024-07-30T23:52:18.442Z]   +   * band     (band) int64 1
[2024-07-30T23:52:18.442Z]   -   * x            (x) float64 2kB 1.978e+06 1.978e+06 ... 1.984e+06 1.984e+06
[2024-07-30T23:52:18.442Z]   -   * y            (y) float64 3kB 9.789e+05 9.789e+05 ... 9.674e+05 9.674e+05
[2024-07-30T23:52:18.442Z]   ?      ----                   ----
[2024-07-30T23:52:18.442Z]   +   * y        (y) float64 9.789e+05 9.789e+05 9.788e+05 ... 9.674e+05 9.674e+05
[2024-07-30T23:52:18.442Z]   ?                                              ++++++++++
[2024-07-30T23:52:18.442Z]   -     spatial_ref  int64 8B ...
[2024-07-30T23:52:18.442Z]   +   * x        (x) float64 1.978e+06 1.978e+06 1.978e+06 ... 1.984e+06 1.984e+06
[2024-07-30T23:52:18.442Z]     Attributes:
[2024-07-30T23:52:18.442Z]   +     transform:      (30.0, 0.0, 1977719.9999999972, 0.0, -30.0, 978920.000000...
[2024-07-30T23:52:18.442Z]   +     crs:            +proj=laea +lat_0=45 +lon_0=-100 +x_0=0 +y_0=0 +datum=WGS...
[2024-07-30T23:52:18.442Z]   +     res:            (30.0, 30.0)
[2024-07-30T23:52:18.442Z]   +     is_tiled:       0
[2024-07-30T23:52:18.442Z]   +     nodatavals:     (127.0,)
[2024-07-30T23:52:18.442Z]   +     scales:         (1.0,)
[2024-07-30T23:52:18.442Z]   +     offsets:        (0.0,)
[2024-07-30T23:52:18.442Z]         AREA_OR_POINT:  Area
[2024-07-30T23:52:18.442Z] [0m
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 10 _
[2024-07-30T23:52:18.442Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.442Z] [94mCell 10: Cell outputs differ
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] Input:
[2024-07-30T23:52:18.442Z] [0munique, counts = numpy.unique(grid[0], return_counts=True)
[2024-07-30T23:52:18.442Z] display(unique, counts)
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] # Pixels values at '127' are NaN and can be ignored.
[2024-07-30T23:52:18.442Z] plt.bar(unique[:-1], counts[:-1])
[2024-07-30T23:52:18.442Z] plt.show()
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] grid[0].where(grid[0] != 127).sel(band=1).plot.imshow(cmap="tab20")
[2024-07-30T23:52:18.442Z] plt.show()
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] [94mTraceback:[0m
[2024-07-30T23:52:18.442Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z]   'array([  1, ... dtype=uint8)' == 'array([ 1., ...type=float32)'
[2024-07-30T23:52:18.442Z]   
[2024-07-30T23:52:18.442Z]   + array([  1,   2,   5,   6,   8,  10,  12,  14,  16,  18, 127], dtype=uint8)
[2024-07-30T23:52:18.442Z]   - array([ 1.,  2.,  5.,  6.,  8., 10., 12., 14., 16., 18., nan],
[2024-07-30T23:52:18.442Z]   -       dtype=float32)
[2024-07-30T23:52:18.442Z] [0m
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 13 _
[2024-07-30T23:52:18.442Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.442Z] [94mCell 13: Cell outputs differ
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] Input:
[2024-07-30T23:52:18.442Z] [0mproperties, dem = terrain_resp.get(asobj=True)
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] elevation = properties[0]["elevation"]
[2024-07-30T23:52:18.442Z] slope = properties[0]["slope"]
[2024-07-30T23:52:18.442Z] aspect = properties[0]["aspect"]
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] terrain = {"elevation": elevation, "slope": slope, "aspect": aspect}
[2024-07-30T23:52:18.442Z] display(terrain)
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] [94mTraceback:[0m
[2024-07-30T23:52:18.442Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z]   "{'elevation'...663053081183}" == "{'elevation'...109960216109}"
[2024-07-30T23:52:18.442Z]   
[2024-07-30T23:52:18.442Z]   - {'elevation': 490.04502369668245,
[2024-07-30T23:52:18.442Z]   ?                       ^  ^^^^^^^
[2024-07-30T23:52:18.442Z]   + {'elevation': 490.04395604395603,
[2024-07-30T23:52:18.442Z]   ?                     ++ + ^ ++ ^^
[2024-07-30T23:52:18.442Z]   -  'slope': 3.9652910939398542,
[2024-07-30T23:52:18.442Z]   -  'aspect': 116.8109960216109}
[2024-07-30T23:52:18.442Z]   +  'slope': 3.9660650465635636,
[2024-07-30T23:52:18.442Z]   +  'aspect': 116.79663053081183}
[2024-07-30T23:52:18.442Z] [0m
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 16 _
[2024-07-30T23:52:18.442Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.442Z] [94mCell 16: Cell outputs differ
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] Input:
[2024-07-30T23:52:18.442Z] [0mall_properties = {**shape_info, **land_use, **terrain}
[2024-07-30T23:52:18.442Z] display(all_properties)
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] [94mTraceback:[0m
[2024-07-30T23:52:18.442Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z]   "{'area': 28....663053081183}" == "{'area': 28....109960216109}"
[2024-07-30T23:52:18.442Z]   
[2024-07-30T23:52:18.442Z]   - {'area': 28.764849465039998,
[2024-07-30T23:52:18.442Z]   + {'area': 28.76484128349778,
[2024-07-30T23:52:18.442Z]      'longitude': -71.3409808346398,
[2024-07-30T23:52:18.442Z]      'latitude': 50.478880424555875,
[2024-07-30T23:52:18.442Z]   -  'gravelius': 1.7366297521025815,
[2024-07-30T23:52:18.442Z]   ?                         - ^^^ ^^
[2024-07-30T23:52:18.442Z]   +  'gravelius': 1.736629751937897,
[2024-07-30T23:52:18.442Z]   ?                          ^^^ ^^
[2024-07-30T23:52:18.442Z]   -  'perimeter': 33017.42666655506,
[2024-07-30T23:52:18.442Z]   ?                        ^^^   ^^
[2024-07-30T23:52:18.442Z]   +  'perimeter': 33017.421967875554,
[2024-07-30T23:52:18.442Z]   ?                       ++ ^^^   ^
[2024-07-30T23:52:18.442Z]      'Ocean': 0.0,
[2024-07-30T23:52:18.442Z]      'Forest': 0.5770231039071005,
[2024-07-30T23:52:18.442Z]      'Shrubs': 0.3096346921495101,
[2024-07-30T23:52:18.442Z]      'Grass': 0.014485303011975323,
[2024-07-30T23:52:18.442Z]      'Wetland': 0.0006350550381033022,
[2024-07-30T23:52:18.442Z]      'Crops': 0.0,
[2024-07-30T23:52:18.442Z]      'Urban': 0.0,
[2024-07-30T23:52:18.442Z]      'Water': 0.09822184589331075,
[2024-07-30T23:52:18.442Z]      'SnowIce': 0.0,
[2024-07-30T23:52:18.442Z]   -  'elevation': 490.04502369668245,
[2024-07-30T23:52:18.442Z]   ?                       ^  ^^^^^^^
[2024-07-30T23:52:18.442Z]   +  'elevation': 490.04395604395603,
[2024-07-30T23:52:18.442Z]   ?                     ++ + ^ ++ ^^
[2024-07-30T23:52:18.442Z]   -  'slope': 3.9652910939398542,
[2024-07-30T23:52:18.442Z]   -  'aspect': 116.8109960216109}
[2024-07-30T23:52:18.442Z]   +  'slope': 3.9660650465635636,
[2024-07-30T23:52:18.442Z]   +  'aspect': 116.79663053081183}
[2024-07-30T23:52:18.442Z] [0m
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb::Cell 1 _
[2024-07-30T23:52:18.442Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.442Z] [94mCell 1: Cell execution caused an exception
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] Input:
[2024-07-30T23:52:18.442Z] [0m# Define some of the catchment properties. Could also be replaced by a call to the properties WPS!
[2024-07-30T23:52:18.442Z] region_vector = str(get_file("watershed_vector/LSJ_LL.zip"))
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] basin_area = 44523.5
[2024-07-30T23:52:18.442Z] basin_longitude = -72.55
[2024-07-30T23:52:18.442Z] basin_latitude = 48.39
[2024-07-30T23:52:18.442Z] basin_elevation = 300.0
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] # Choose a hydrological model to use. We have 'HMETS', 'GR4JCN','MOHYSE' and 'HBVEC'.
[2024-07-30T23:52:18.442Z] hydromodel = "GR4JCN"
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] # Since we've used GR4JCN, we need to provide that model's parameters.
[2024-07-30T23:52:18.442Z] gr4j_parameters = "0.529, -3.396, 407.29, 1.072, 16.9, 0.947"
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] nc_transforms = json.dumps(
[2024-07-30T23:52:18.442Z]     {"tas": {"time_shift": -0.25}, "pr": {"time_shift": -0.25, "deaccumulate": True}}
[2024-07-30T23:52:18.442Z] )
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.442Z] # Length of the desired forecast, in days
[2024-07-30T23:52:18.442Z] duration = 7
[2024-07-30T23:52:18.442Z] 
[2024-07-30T23:52:18.443Z] # launch the hydrological realtime forecasting WPS
[2024-07-30T23:52:18.443Z] resp_fcst = wps.realtime_forecast(
[2024-07-30T23:52:18.443Z]     region_vector=region_vector,
[2024-07-30T23:52:18.443Z]     latitude=basin_latitude,
[2024-07-30T23:52:18.443Z]     longitude=basin_longitude,
[2024-07-30T23:52:18.443Z]     area=basin_area,
[2024-07-30T23:52:18.443Z]     elevation=basin_elevation,
[2024-07-30T23:52:18.443Z]     forecast_model="GEPS",
[2024-07-30T23:52:18.443Z]     gr4jcn=gr4j_parameters,
[2024-07-30T23:52:18.443Z]     duration=duration,
[2024-07-30T23:52:18.443Z]     rvc=str(get_file("gr4j_cemaneige/solution.rvc")),
[2024-07-30T23:52:18.443Z]     nc_spec=nc_transforms,
[2024-07-30T23:52:18.443Z]     rain_snow_fraction="RAINSNOW_DINGMAN",
[2024-07-30T23:52:18.443Z] )
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [94mTraceback:[0m
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.443Z] [0;31mAttributeError[0m                            Traceback (most recent call last)
[2024-07-30T23:52:18.443Z] Cell [0;32mIn[1], line 23[0m
[2024-07-30T23:52:18.443Z] [1;32m     20[0m duration [38;5;241m=[39m [38;5;241m7[39m
[2024-07-30T23:52:18.443Z] [1;32m     22[0m [38;5;66;03m# launch the hydrological realtime forecasting WPS[39;00m
[2024-07-30T23:52:18.443Z] [0;32m---> 23[0m resp_fcst [38;5;241m=[39m [43mwps[49m[38;5;241;43m.[39;49m[43mrealtime_forecast[49m(
[2024-07-30T23:52:18.443Z] [1;32m     24[0m     region_vector[38;5;241m=[39mregion_vector,
[2024-07-30T23:52:18.443Z] [1;32m     25[0m     latitude[38;5;241m=[39mbasin_latitude,
[2024-07-30T23:52:18.443Z] [1;32m     26[0m     longitude[38;5;241m=[39mbasin_longitude,
[2024-07-30T23:52:18.443Z] [1;32m     27[0m     area[38;5;241m=[39mbasin_area,
[2024-07-30T23:52:18.443Z] [1;32m     28[0m     elevation[38;5;241m=[39mbasin_elevation,
[2024-07-30T23:52:18.443Z] [1;32m     29[0m     forecast_model[38;5;241m=[39m[38;5;124m"[39m[38;5;124mGEPS[39m[38;5;124m"[39m,
[2024-07-30T23:52:18.443Z] [1;32m     30[0m     gr4jcn[38;5;241m=[39mgr4j_parameters,
[2024-07-30T23:52:18.443Z] [1;32m     31[0m     duration[38;5;241m=[39mduration,
[2024-07-30T23:52:18.443Z] [1;32m     32[0m     rvc[38;5;241m=[39m[38;5;28mstr[39m(get_file([38;5;124m"[39m[38;5;124mgr4j_cemaneige/solution.rvc[39m[38;5;124m"[39m)),
[2024-07-30T23:52:18.443Z] [1;32m     33[0m     nc_spec[38;5;241m=[39mnc_transforms,
[2024-07-30T23:52:18.443Z] [1;32m     34[0m     rain_snow_fraction[38;5;241m=[39m[38;5;124m"[39m[38;5;124mRAINSNOW_DINGMAN[39m[38;5;124m"[39m,
[2024-07-30T23:52:18.443Z] [1;32m     35[0m )
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [0;31mAttributeError[0m: 'WPSClient' object has no attribute 'realtime_forecast'
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb::Cell 2 _
[2024-07-30T23:52:18.443Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.443Z] [94mCell 2: Cell execution caused an exception
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] Input:
[2024-07-30T23:52:18.443Z] [0m# The model has run! We can get the response.
[2024-07-30T23:52:18.443Z] # With `asobj` set to False, only the reference to the output is returned in the response.
[2024-07-30T23:52:18.443Z] # Setting `asobj` to True will retrieve the actual files and copy them locally.
[2024-07-30T23:52:18.443Z] [hydrograph_url, storage_url, solution_url, diagnostics_url, rv_url] = resp_fcst.get()
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [94mTraceback:[0m
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.443Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.443Z] Cell [0;32mIn[1], line 4[0m
[2024-07-30T23:52:18.443Z] [1;32m      1[0m [38;5;66;03m# The model has run! We can get the response.[39;00m
[2024-07-30T23:52:18.443Z] [1;32m      2[0m [38;5;66;03m# With `asobj` set to False, only the reference to the output is returned in the response.[39;00m
[2024-07-30T23:52:18.443Z] [1;32m      3[0m [38;5;66;03m# Setting `asobj` to True will retrieve the actual files and copy them locally.[39;00m
[2024-07-30T23:52:18.443Z] [0;32m----> 4[0m [hydrograph_url, storage_url, solution_url, diagnostics_url, rv_url] [38;5;241m=[39m [43mresp_fcst[49m[38;5;241m.[39mget()
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [0;31mNameError[0m: name 'resp_fcst' is not defined
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb::Cell 3 _
[2024-07-30T23:52:18.443Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.443Z] [94mCell 3: Cell execution caused an exception
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] Input:
[2024-07-30T23:52:18.443Z] [0mwps.graph_forecast_uncertainty(fcst=hydrograph_url).get(asobj=True)[0]
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [94mTraceback:[0m
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.443Z] [0;31mAttributeError[0m                            Traceback (most recent call last)
[2024-07-30T23:52:18.443Z] Cell [0;32mIn[1], line 1[0m
[2024-07-30T23:52:18.443Z] [0;32m----> 1[0m [43mwps[49m[38;5;241;43m.[39;49m[43mgraph_forecast_uncertainty[49m(fcst[38;5;241m=[39mhydrograph_url)[38;5;241m.[39mget(asobj[38;5;241m=[39m[38;5;28;01mTrue[39;00m)[[38;5;241m0[39m]
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [0;31mAttributeError[0m: 'WPSClient' object has no attribute 'graph_forecast_uncertainty'
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 0 _
[2024-07-30T23:52:18.443Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.443Z] [94mCell 0: Cell outputs differ
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] Input:
[2024-07-30T23:52:18.443Z] [0mimport datetime as dt
[2024-07-30T23:52:18.443Z] import os
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] from birdy import WPSClient
[2024-07-30T23:52:18.443Z] from matplotlib import pyplot as plt
[2024-07-30T23:52:18.443Z] from pandas.plotting import register_matplotlib_converters
[2024-07-30T23:52:18.443Z] from ravenpy.utilities.testdata import get_file
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] register_matplotlib_converters()
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] # Set environment variable WPS_URL to "http://localhost:9099" to run on the default local server
[2024-07-30T23:52:18.443Z] url = os.environ.get(
[2024-07-30T23:52:18.443Z]     "WPS_URL", "https://pavics.ouranos.ca/twitcher/ows/proxy/raven/wps"
[2024-07-30T23:52:18.443Z] )
[2024-07-30T23:52:18.443Z] wps = WPSClient(url)
[2024-07-30T23:52:18.443Z] url
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] [94mTraceback:[0m
[2024-07-30T23:52:18.443Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z]   "'http://0.0.0.0:9099'" == "'https://PAV...xy/raven/wps'"
[2024-07-30T23:52:18.443Z]   
[2024-07-30T23:52:18.443Z]   - 'https://PAVICS_FQDN/twitcher/ows/proxy/raven/wps'
[2024-07-30T23:52:18.443Z]   + 'http://0.0.0.0:9099'
[2024-07-30T23:52:18.443Z] [0m
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 1 _
[2024-07-30T23:52:18.443Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.443Z] [94mCell 1: Cell execution caused an exception
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] Input:
[2024-07-30T23:52:18.443Z] [0m# The model parameter boundaries. Can either be a string of comma separated values, a list, an array or a named tuple.
[2024-07-30T23:52:18.443Z] lowerBounds = "0.01, -15.0, 10.0, 0.0, 1.0, 0.0"
[2024-07-30T23:52:18.443Z] upperBounds = "2.5, 10.0, 700.0, 7.0, 30.0, 1."
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] # Dataset including forcing time series (temperature, precipitation) and observed streamflow.
[2024-07-30T23:52:18.443Z] ts = get_file("raven-gr4j-cemaneige/Salmon-River-Near-Prince-George_meteo_daily.nc")
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] # GR4J-CN model configuration parameters
[2024-07-30T23:52:18.443Z] config = dict(
[2024-07-30T23:52:18.443Z]     area=4250.6,
[2024-07-30T23:52:18.443Z]     elevation=843.0,
[2024-07-30T23:52:18.443Z]     latitude=54.4848,
[2024-07-30T23:52:18.443Z]     longitude=-123.3659,
[2024-07-30T23:52:18.443Z]     start_date=dt.datetime(1954, 1, 1),
[2024-07-30T23:52:18.443Z]     duration=208,
[2024-07-30T23:52:18.443Z] )
[2024-07-30T23:52:18.443Z] 
[2024-07-30T23:52:18.443Z] # OSTRICH configuration parameters
[2024-07-30T23:52:18.443Z] calib = dict(
[2024-07-30T23:52:18.443Z]     algorithm="DDS",
[2024-07-30T23:52:18.443Z]     max_iterations=10,
[2024-07-30T23:52:18.444Z]     lowerbounds=lowerBounds,
[2024-07-30T23:52:18.444Z]     upperbounds=upperBounds,
[2024-07-30T23:52:18.444Z]     # Comment out the random seed to show different results!
[2024-07-30T23:52:18.444Z]     random_seed=6.67408 * 10**-11,
[2024-07-30T23:52:18.444Z] )
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] # Call Ostrich with the timeseries, calibration parameters and other configuration parameters
[2024-07-30T23:52:18.444Z] resp = wps.ostrich_gr4j_cemaneige(ts=str(ts), **config, **calib)
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [94mTraceback:[0m
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.444Z] [0;31mAttributeError[0m                            Traceback (most recent call last)
[2024-07-30T23:52:18.444Z] Cell [0;32mIn[1], line 29[0m
[2024-07-30T23:52:18.444Z] [1;32m     19[0m calib [38;5;241m=[39m [38;5;28mdict[39m(
[2024-07-30T23:52:18.444Z] [1;32m     20[0m     algorithm[38;5;241m=[39m[38;5;124m"[39m[38;5;124mDDS[39m[38;5;124m"[39m,
[2024-07-30T23:52:18.444Z] [1;32m     21[0m     max_iterations[38;5;241m=[39m[38;5;241m10[39m,
[2024-07-30T23:52:18.444Z] [0;32m   (...)[0m
[2024-07-30T23:52:18.444Z] [1;32m     25[0m     random_seed[38;5;241m=[39m[38;5;241m6.67408[39m [38;5;241m*[39m [38;5;241m10[39m[38;5;241m*[39m[38;5;241m*[39m[38;5;241m-[39m[38;5;241m11[39m,
[2024-07-30T23:52:18.444Z] [1;32m     26[0m )
[2024-07-30T23:52:18.444Z] [1;32m     28[0m [38;5;66;03m# Call Ostrich with the timeseries, calibration parameters and other configuration parameters[39;00m
[2024-07-30T23:52:18.444Z] [0;32m---> 29[0m resp [38;5;241m=[39m [43mwps[49m[38;5;241;43m.[39;49m[43mostrich_gr4j_cemaneige[49m(ts[38;5;241m=[39m[38;5;28mstr[39m(ts), [38;5;241m*[39m[38;5;241m*[39mconfig, [38;5;241m*[39m[38;5;241m*[39mcalib)
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [0;31mAttributeError[0m: 'WPSClient' object has no attribute 'ostrich_gr4j_cemaneige'
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 2 _
[2024-07-30T23:52:18.444Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.444Z] [94mCell 2: Cell outputs differ
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] Input:
[2024-07-30T23:52:18.444Z] [0mts
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [94mTraceback:[0m
[2024-07-30T23:52:18.444Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z]   "PosixPath('/...eo_daily.nc')" == "PosixPath('/...eo_daily.nc')"
[2024-07-30T23:52:18.444Z]   
[2024-07-30T23:52:18.444Z]   Skipping 34 identical leading characters in diff, use -v to show
[2024-07-30T23:52:18.444Z]   - _LOCATION/raven_testing_data/master/raven-gr4j-cemaneige/Salmon-River-Near-Prince-George_meteo_daily.nc')
[2024-07-30T23:52:18.444Z]   ?          -------------------
[2024-07-30T23:52:18.444Z]   + _LOCATION/master/raven-gr4j-cemaneige/Salmon-River-Near-Prince-George_meteo_daily.nc')
[2024-07-30T23:52:18.444Z] [0m
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 3 _
[2024-07-30T23:52:18.444Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.444Z] [94mCell 3: Cell execution caused an exception
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] Input:
[2024-07-30T23:52:18.444Z] [0m[calibration, hydrograph, storage, solution, diagnostics, calibparams, rv] = resp.get(
[2024-07-30T23:52:18.444Z]     asobj=True
[2024-07-30T23:52:18.444Z] )
[2024-07-30T23:52:18.444Z] print(calibparams)
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [94mTraceback:[0m
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.444Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.444Z] Cell [0;32mIn[1], line 1[0m
[2024-07-30T23:52:18.444Z] [0;32m----> 1[0m [calibration, hydrograph, storage, solution, diagnostics, calibparams, rv] [38;5;241m=[39m [43mresp[49m[38;5;241m.[39mget(
[2024-07-30T23:52:18.444Z] [1;32m      2[0m     asobj[38;5;241m=[39m[38;5;28;01mTrue[39;00m
[2024-07-30T23:52:18.444Z] [1;32m      3[0m )
[2024-07-30T23:52:18.444Z] [1;32m      4[0m [38;5;28mprint[39m(calibparams)
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [0;31mNameError[0m: name 'resp' is not defined
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 4 _
[2024-07-30T23:52:18.444Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.444Z] [94mCell 4: Cell execution caused an exception
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] Input:
[2024-07-30T23:52:18.444Z] [0m# Call the model with the time series, model parameters and other configuration parameters
[2024-07-30T23:52:18.444Z] resp = wps.raven_gr4j_cemaneige(ts=str(ts), params=calibparams, **config)
[2024-07-30T23:52:18.444Z] [hydrograph, storage, solution, diagnostics2, rv2] = resp.get(asobj=True)
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [94mTraceback:[0m
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.444Z] [0;31mAttributeError[0m                            Traceback (most recent call last)
[2024-07-30T23:52:18.444Z] Cell [0;32mIn[1], line 2[0m
[2024-07-30T23:52:18.444Z] [1;32m      1[0m [38;5;66;03m# Call the model with the time series, model parameters and other configuration parameters[39;00m
[2024-07-30T23:52:18.444Z] [0;32m----> 2[0m resp [38;5;241m=[39m [43mwps[49m[38;5;241;43m.[39;49m[43mraven_gr4j_cemaneige[49m(ts[38;5;241m=[39m[38;5;28mstr[39m(ts), params[38;5;241m=[39mcalibparams, [38;5;241m*[39m[38;5;241m*[39mconfig)
[2024-07-30T23:52:18.444Z] [1;32m      3[0m [hydrograph, storage, solution, diagnostics2, rv2] [38;5;241m=[39m resp[38;5;241m.[39mget(asobj[38;5;241m=[39m[38;5;28;01mTrue[39;00m)
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [0;31mAttributeError[0m: 'WPSClient' object has no attribute 'raven_gr4j_cemaneige'
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 5 _
[2024-07-30T23:52:18.444Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.444Z] [94mCell 5: Cell execution caused an exception
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] Input:
[2024-07-30T23:52:18.444Z] [0mprint(diagnostics)
[2024-07-30T23:52:18.444Z] print(diagnostics2)
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [94mTraceback:[0m
[2024-07-30T23:52:18.444Z] 
[2024-07-30T23:52:18.444Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.444Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.444Z] Cell [0;32mIn[1], line 1[0m
[2024-07-30T23:52:18.444Z] [0;32m----> 1[0m [38;5;28mprint[39m([43mdiagnostics[49m)
[2024-07-30T23:52:18.444Z] [1;32m      2[0m [38;5;28mprint[39m(diagnostics2)
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [0;31mNameError[0m: name 'diagnostics' is not defined
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 1 _
[2024-07-30T23:52:18.445Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.445Z] [94mCell 1: Cell execution caused an exception
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] Input:
[2024-07-30T23:52:18.445Z] [0m# The model parameters. Can either be a string of comma separated values, a list, an array or a named tuple.
[2024-07-30T23:52:18.445Z] params = "0.529, -3.396, 407.29, 1.072, 16.9, 0.947"
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] # Local forcing files
[2024-07-30T23:52:18.445Z] ts = get_file("raven-gr4j-cemaneige/Salmon-River-Near-Prince-George_meteo_daily.nc")
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] # Model configuration parameters
[2024-07-30T23:52:18.445Z] config = dict(
[2024-07-30T23:52:18.445Z]     start_date=dt.datetime(2000, 1, 1),
[2024-07-30T23:52:18.445Z]     end_date=dt.datetime(2002, 1, 1),
[2024-07-30T23:52:18.445Z]     area=4250.6,
[2024-07-30T23:52:18.445Z]     elevation=843.0,
[2024-07-30T23:52:18.445Z]     latitude=54.4848,
[2024-07-30T23:52:18.445Z]     longitude=-123.3659,
[2024-07-30T23:52:18.445Z] )
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] # Send a request to the server, instructing it to launch the GR4J-CN emulated model.
[2024-07-30T23:52:18.445Z] resp = wps.raven_gr4j_cemaneige(ts=str(ts), params=params, **config)
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [94mTraceback:[0m
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.445Z] [0;31mAttributeError[0m                            Traceback (most recent call last)
[2024-07-30T23:52:18.445Z] Cell [0;32mIn[1], line 18[0m
[2024-07-30T23:52:18.445Z] [1;32m      8[0m config [38;5;241m=[39m [38;5;28mdict[39m(
[2024-07-30T23:52:18.445Z] [1;32m      9[0m     start_date[38;5;241m=[39mdt[38;5;241m.[39mdatetime([38;5;241m2000[39m, [38;5;241m1[39m, [38;5;241m1[39m),
[2024-07-30T23:52:18.445Z] [1;32m     10[0m     end_date[38;5;241m=[39mdt[38;5;241m.[39mdatetime([38;5;241m2002[39m, [38;5;241m1[39m, [38;5;241m1[39m),
[2024-07-30T23:52:18.445Z] [0;32m   (...)[0m
[2024-07-30T23:52:18.445Z] [1;32m     14[0m     longitude[38;5;241m=[39m[38;5;241m-[39m[38;5;241m123.3659[39m,
[2024-07-30T23:52:18.445Z] [1;32m     15[0m )
[2024-07-30T23:52:18.445Z] [1;32m     17[0m [38;5;66;03m# Send a request to the server, instructing it to launch the GR4J-CN emulated model.[39;00m
[2024-07-30T23:52:18.445Z] [0;32m---> 18[0m resp [38;5;241m=[39m [43mwps[49m[38;5;241;43m.[39;49m[43mraven_gr4j_cemaneige[49m(ts[38;5;241m=[39m[38;5;28mstr[39m(ts), params[38;5;241m=[39mparams, [38;5;241m*[39m[38;5;241m*[39mconfig)
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [0;31mAttributeError[0m: 'WPSClient' object has no attribute 'raven_gr4j_cemaneige'
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 2 _
[2024-07-30T23:52:18.445Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.445Z] [94mCell 2: Cell execution caused an exception
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] Input:
[2024-07-30T23:52:18.445Z] [0m# The diagnostics output is CSV file.
[2024-07-30T23:52:18.445Z] [hydrograph, storage, solution, diagnostics, rv] = resp.get(asobj=True)
[2024-07-30T23:52:18.445Z] print(diagnostics)
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [94mTraceback:[0m
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.445Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.445Z] Cell [0;32mIn[1], line 2[0m
[2024-07-30T23:52:18.445Z] [1;32m      1[0m [38;5;66;03m# The diagnostics output is CSV file.[39;00m
[2024-07-30T23:52:18.445Z] [0;32m----> 2[0m [hydrograph, storage, solution, diagnostics, rv] [38;5;241m=[39m [43mresp[49m[38;5;241m.[39mget(asobj[38;5;241m=[39m[38;5;28;01mTrue[39;00m)
[2024-07-30T23:52:18.445Z] [1;32m      3[0m [38;5;28mprint[39m(diagnostics)
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [0;31mNameError[0m: name 'resp' is not defined
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 3 _
[2024-07-30T23:52:18.445Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.445Z] [94mCell 3: Cell execution caused an exception
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] Input:
[2024-07-30T23:52:18.445Z] [0mhydrograph.q_sim
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [94mTraceback:[0m
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.445Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.445Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.445Z] Cell [0;32mIn[1], line 1[0m
[2024-07-30T23:52:18.445Z] [0;32m----> 1[0m [43mhydrograph[49m[38;5;241m.[39mq_sim
[2024-07-30T23:52:18.445Z] 
[2024-07-30T23:52:18.455Z] [0;31mNameError[0m: name 'hydrograph' is not defined
[2024-07-30T23:52:18.455Z] 
[2024-07-30T23:52:18.456Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 4 _
[2024-07-30T23:52:18.456Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.456Z] [94mCell 4: Cell execution caused an exception
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] Input:
[2024-07-30T23:52:18.456Z] [0mfig, (ax1, ax2) = plt.subplots(1, 2)
[2024-07-30T23:52:18.456Z] hydrograph.q_sim.plot(ax=ax1)
[2024-07-30T23:52:18.456Z] storage.Snow.plot(ax=ax2)
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [94mTraceback:[0m
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.456Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.456Z] Cell [0;32mIn[1], line 2[0m
[2024-07-30T23:52:18.456Z] [1;32m      1[0m fig, (ax1, ax2) [38;5;241m=[39m plt[38;5;241m.[39msubplots([38;5;241m1[39m, [38;5;241m2[39m)
[2024-07-30T23:52:18.456Z] [0;32m----> 2[0m [43mhydrograph[49m[38;5;241m.[39mq_sim[38;5;241m.[39mplot(ax[38;5;241m=[39max1)
[2024-07-30T23:52:18.456Z] [1;32m      3[0m storage[38;5;241m.[39mSnow[38;5;241m.[39mplot(ax[38;5;241m=[39max2)
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31mNameError[0m: name 'hydrograph' is not defined
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 5 _
[2024-07-30T23:52:18.456Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.456Z] [94mCell 5: Cell execution caused an exception
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] Input:
[2024-07-30T23:52:18.456Z] [0m# Monthly maxima
[2024-07-30T23:52:18.456Z] mm = hydrograph.q_sim.resample(time="M").max()
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] # Climatological monthly means
[2024-07-30T23:52:18.456Z] hydrograph.q_sim.groupby("time.month").mean(dim="time")
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [94mTraceback:[0m
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.456Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.456Z] Cell [0;32mIn[1], line 2[0m
[2024-07-30T23:52:18.456Z] [1;32m      1[0m [38;5;66;03m# Monthly maxima[39;00m
[2024-07-30T23:52:18.456Z] [0;32m----> 2[0m mm [38;5;241m=[39m [43mhydrograph[49m[38;5;241m.[39mq_sim[38;5;241m.[39mresample(time[38;5;241m=[39m[38;5;124m"[39m[38;5;124mM[39m[38;5;124m"[39m)[38;5;241m.[39mmax()
[2024-07-30T23:52:18.456Z] [1;32m      4[0m [38;5;66;03m# Climatological monthly means[39;00m
[2024-07-30T23:52:18.456Z] [1;32m      5[0m hydrograph[38;5;241m.[39mq_sim[38;5;241m.[39mgroupby([38;5;124m"[39m[38;5;124mtime.month[39m[38;5;124m"[39m)[38;5;241m.[39mmean(dim[38;5;241m=[39m[38;5;124m"[39m[38;5;124mtime[39m[38;5;124m"[39m)
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31mNameError[0m: name 'hydrograph' is not defined
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 6 _
[2024-07-30T23:52:18.456Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.456Z] [94mCell 6: Cell execution caused an exception
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] Input:
[2024-07-30T23:52:18.456Z] [0mlinks = resp.get(asobj=False)
[2024-07-30T23:52:18.456Z] [hydrograph_url, storage_url, solution_url, diagnostics_url, rv_url] = links
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] # The `objective_function` computes from 1 to 17 objective functions.
[2024-07-30T23:52:18.456Z] resp_objfunc = wps.objective_function(
[2024-07-30T23:52:18.456Z]     obs=hydrograph_url, sim=hydrograph_url, name="agreementindex"
[2024-07-30T23:52:18.456Z] )
[2024-07-30T23:52:18.456Z] results = resp_objfunc.get(asobj=True)
[2024-07-30T23:52:18.456Z] print(results.metrics)
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [94mTraceback:[0m
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.456Z] [0;31mNameError[0m                                 Traceback (most recent call last)
[2024-07-30T23:52:18.456Z] Cell [0;32mIn[1], line 1[0m
[2024-07-30T23:52:18.456Z] [0;32m----> 1[0m links [38;5;241m=[39m [43mresp[49m[38;5;241m.[39mget(asobj[38;5;241m=[39m[38;5;28;01mFalse[39;00m)
[2024-07-30T23:52:18.456Z] [1;32m      2[0m [hydrograph_url, storage_url, solution_url, diagnostics_url, rv_url] [38;5;241m=[39m links
[2024-07-30T23:52:18.456Z] [1;32m      4[0m [38;5;66;03m# The `objective_function` computes from 1 to 17 objective functions.[39;00m
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31mNameError[0m: name 'resp' is not defined
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 7 _
[2024-07-30T23:52:18.456Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.456Z] [94mCell 7: Cell execution caused an exception
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] Input:
[2024-07-30T23:52:18.456Z] [0m# Call the objective function graphing wps while sending the hydrograph as input, which includes 'q_sim' and 'q_obs'
[2024-07-30T23:52:18.456Z] resp_graph = wps.graph_objective_function_fit(sims=hydrograph_url)
[2024-07-30T23:52:18.456Z] [graph_objfun_fit, graph_objfun_annual_fit] = resp_graph.get(asobj=True)
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] # The `graph_objfun_fit` object is a figure that the notebook will automatically display.
[2024-07-30T23:52:18.456Z] graph_objfun_fit
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [94mTraceback:[0m
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.456Z] [0;31mAttributeError[0m                            Traceback (most recent call last)
[2024-07-30T23:52:18.456Z] Cell [0;32mIn[1], line 2[0m
[2024-07-30T23:52:18.456Z] [1;32m      1[0m [38;5;66;03m# Call the objective function graphing wps while sending the hydrograph as input, which includes 'q_sim' and 'q_obs'[39;00m
[2024-07-30T23:52:18.456Z] [0;32m----> 2[0m resp_graph [38;5;241m=[39m [43mwps[49m[38;5;241;43m.[39;49m[43mgraph_objective_function_fit[49m(sims[38;5;241m=[39mhydrograph_url)
[2024-07-30T23:52:18.456Z] [1;32m      3[0m [graph_objfun_fit, graph_objfun_annual_fit] [38;5;241m=[39m resp_graph[38;5;241m.[39mget(asobj[38;5;241m=[39m[38;5;28;01mTrue[39;00m)
[2024-07-30T23:52:18.456Z] [1;32m      5[0m [38;5;66;03m# The `graph_objfun_fit` object is a figure that the notebook will automatically display.[39;00m
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [0;31mAttributeError[0m: 'WPSClient' object has no attribute 'graph_objective_function_fit'
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 1 _
[2024-07-30T23:52:18.456Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.456Z] [94mCell 1: Cell outputs differ
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] Input:
[2024-07-30T23:52:18.456Z] [0mhelp(wps.base_flow_index)
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z] [94mTraceback:[0m
[2024-07-30T23:52:18.456Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.456Z] 
[2024-07-30T23:52:18.456Z]   'Help on meth...ut files.\n\n' == 'Help on meth...ut files.\n\n'
[2024-07-30T23:52:18.456Z]   
[2024-07-30T23:52:18.456Z]   Skipping 75 identical leading characters in diff, use -v to show
[2024-07-30T23:52:18.456Z]   - x(q=None, freq='YS', check_missing='any', missing_options=None, cf_compliance='warn', data_validation='raise', variable=None, output_name=None, output_format='netcdf', csv_precision=None, output_formats=None) method of birdy.client.base.WPSClient instance
[2024-07-30T23:52:18.456Z]   + x(q=None, check_missing='any', cf_compliance='warn', data_validation='raise', freq='YS', missing_options=None, variable=None) method of birdy.client.base.WPSClient instance
[2024-07-30T23:52:18.456Z]         Return the base flow index, defined as the minimum 7-day average flow divided by the mean flow.
[2024-07-30T23:52:18.456Z]         
[2024-07-30T23:52:18.456Z]         Parameters
[2024-07-30T23:52:18.456Z]         ----------
[2024-07-30T23:52:18.456Z]         q : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`application/x-ogc-dods`
[2024-07-30T23:52:18.456Z]             NetCDF Files or archive (tar/zip) containing netCDF files.
[2024-07-30T23:52:18.456Z]         freq : {'YS', 'MS', 'QS-DEC', 'AS-JUL'}string
[2024-07-30T23:52:18.456Z]             Resampling frequency.
[2024-07-30T23:52:18.457Z]         check_missing : {'any', 'wmo', 'pct', 'at_least_n', 'skip', 'from_context'}string
[2024-07-30T23:52:18.457Z]             Method used to determine which aggregations should be considered missing.
[2024-07-30T23:52:18.457Z]         missing_options : ComplexData:mimetype:`application/json`
[2024-07-30T23:52:18.457Z]             JSON representation of dictionary of missing method parameters.
[2024-07-30T23:52:18.457Z]         cf_compliance : {'log', 'warn', 'raise'}string
[2024-07-30T23:52:18.457Z]             Whether to log, warn or raise when inputs have non-CF-compliant attributes.
[2024-07-30T23:52:18.457Z]         data_validation : {'log', 'warn', 'raise'}string
[2024-07-30T23:52:18.457Z]             Whether to log, warn or raise when inputs fail data validation checks.
[2024-07-30T23:52:18.457Z]         variable : string
[2024-07-30T23:52:18.457Z]             Name of the variable in the NetCDF file.
[2024-07-30T23:52:18.457Z]   -     output_name : string
[2024-07-30T23:52:18.457Z]   -         Filename of the output (no extension).
[2024-07-30T23:52:18.457Z]   -     output_format : {'netcdf', 'csv'}string
[2024-07-30T23:52:18.457Z]   -         Choose in which format you want to receive the result. CSV actually means a zip file of two csv files.
[2024-07-30T23:52:18.457Z]   -     csv_precision : integer
[2024-07-30T23:52:18.457Z]   -         Only valid if output_format is CSV. If not set, all decimal places of a 64 bit floating precision number are printed. If negative, rounds before the decimal point.
[2024-07-30T23:52:18.457Z]         
[2024-07-30T23:52:18.457Z]         Returns
[2024-07-30T23:52:18.457Z]         -------
[2024-07-30T23:52:18.457Z]   -     output : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`application/zip`
[2024-07-30T23:52:18.457Z]   ?                                                         -----------------------------
[2024-07-30T23:52:18.457Z]   +     output_netcdf : ComplexData:mimetype:`application/x-netcdf`
[2024-07-30T23:52:18.457Z]   ?           +++++++
[2024-07-30T23:52:18.457Z]   -         The format depends on the 'output_format' input parameter.
[2024-07-30T23:52:18.457Z]   +         The indicator values computed on the original input grid.
[2024-07-30T23:52:18.457Z]         output_log : ComplexData:mimetype:`text/plain`
[2024-07-30T23:52:18.457Z]             Collected logs during process run.
[2024-07-30T23:52:18.457Z]         ref : ComplexData:mimetype:`application/metalink+xml; version=4.0`
[2024-07-30T23:52:18.457Z]             Metalink file storing all references to output files.
[2024-07-30T23:52:18.457Z]     
[2024-07-30T23:52:18.457Z] [0m
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 2 _
[2024-07-30T23:52:18.457Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.457Z] [94mCell 2: Cell outputs differ
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] Input:
[2024-07-30T23:52:18.457Z] [0mresp_bfi = wps.base_flow_index(fn, variable="q_sim")
[2024-07-30T23:52:18.457Z] out, log, meta = resp_bfi.get(asobj=True)
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] from pandas.plotting import register_matplotlib_converters
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] register_matplotlib_converters()
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] out.base_flow_index.plot()
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] [94mTraceback:[0m
[2024-07-30T23:52:18.457Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z]   'Metalink con...DOM/out.nc.\n' == 'Downloading ...DOM/out.nc.\n'
[2024-07-30T23:52:18.457Z]   
[2024-07-30T23:52:18.457Z]   + Metalink content-type detected.
[2024-07-30T23:52:18.457Z]     Downloading to /tmp/tmpRANDOM/out.nc.
[2024-07-30T23:52:18.457Z] [0m
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 3 _
[2024-07-30T23:52:18.457Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.457Z] [94mCell 3: Cell outputs differ
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] Input:
[2024-07-30T23:52:18.457Z] [0mhelp(wps.stats)
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z] [94mTraceback:[0m
[2024-07-30T23:52:18.457Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.457Z] 
[2024-07-30T23:52:18.457Z]   'Help on meth...ut files.\n\n' == 'Help on meth...ut files.\n\n'
[2024-07-30T23:52:18.457Z]   
[2024-07-30T23:52:18.457Z]   Skipping 56 identical leading characters in diff, use -v to show
[2024-07-30T23:52:18.457Z]   - (da=None, op=None, freq='YS', month=None, season=None, check_missing='any', missing_options=None, cf_compliance='warn', data_validation='raise', variable=None, output_name=None, output_format='netcdf', csv_precision=None, output_formats=None) method of birdy.client.base.WPSClient instance
[2024-07-30T23:52:18.457Z]   + (da=None, check_missing='any', cf_compliance='warn', data_validation='raise', op=None, freq='YS', month=None, season=None, missing_options=None, variable=None) method of birdy.client.base.WPSClient instance
[2024-07-30T23:52:18.457Z]         Parameters
[2024-07-30T23:52:18.457Z]         ----------
[2024-07-30T23:52:18.457Z]         da : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`application/x-ogc-dods`
[2024-07-30T23:52:18.457Z]             NetCDF Files or archive (tar/zip) containing netCDF files.
[2024-07-30T23:52:18.457Z]   -     op : {'max', 'argmax', 'std', 'mean', 'count', 'min', 'sum', 'argmin', 'var'}string
[2024-07-30T23:52:18.457Z]   +     op : {'std', 'min', 'argmax', 'max', 'sum', 'var', 'count', 'mean', 'argmin'}string
[2024-07-30T23:52:18.457Z]             Reduce operation. Can either be a DataArray method or a function that can be applied to a DataArray.
[2024-07-30T23:52:18.457Z]         freq : {'YS', 'MS', 'QS-DEC', 'AS-JUL'}string
[2024-07-30T23:52:18.457Z]             Resampling frequency defining the periods as defined in https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#resampling.
[2024-07-30T23:52:18.457Z]         month : {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ...}integer
[2024-07-30T23:52:18.457Z]             Months of the year over which to compute indicator.
[2024-07-30T23:52:18.457Z]         season : {'DJF', 'MAM', 'JJA', 'SON'}string
[2024-07-30T23:52:18.457Z]             Climatological season over which to compute indicator.
[2024-07-30T23:52:18.457Z]         check_missing : {'any', 'wmo', 'pct', 'at_least_n', 'skip', 'from_context'}string
[2024-07-30T23:52:18.457Z]             Method used to determine which aggregations should be considered missing.
[2024-07-30T23:52:18.457Z]         missing_options : ComplexData:mimetype:`application/json`
[2024-07-30T23:52:18.457Z]             JSON representation of dictionary of missing method parameters.
[2024-07-30T23:52:18.457Z]         cf_compliance : {'log', 'warn', 'raise'}string
[2024-07-30T23:52:18.457Z]             Whether to log, warn or raise when inputs have non-CF-compliant attributes.
[2024-07-30T23:52:18.457Z]         data_validation : {'log', 'warn', 'raise'}string
[2024-07-30T23:52:18.457Z]             Whether to log, warn or raise when inputs fail data validation checks.
[2024-07-30T23:52:18.457Z]         variable : string
[2024-07-30T23:52:18.457Z]             Name of the variable in the NetCDF file.
[2024-07-30T23:52:18.457Z]   -     output_name : string
[2024-07-30T23:52:18.457Z]   -         Filename of the output (no extension).
[2024-07-30T23:52:18.457Z]   -     output_format : {'netcdf', 'csv'}string
[2024-07-30T23:52:18.457Z]   -         Choose in which format you want to receive the result. CSV actually means a zip file of two csv files.
[2024-07-30T23:52:18.457Z]   -     csv_precision : integer
[2024-07-30T23:52:18.457Z]   -         Only valid if output_format is CSV. If not set, all decimal places of a 64 bit floating precision number are printed. If negative, rounds before the decimal point.
[2024-07-30T23:52:18.457Z]         
[2024-07-30T23:52:18.457Z]         Returns
[2024-07-30T23:52:18.457Z]         -------
[2024-07-30T23:52:18.457Z]   -     output : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`application/zip`
[2024-07-30T23:52:18.457Z]   ?                                                         -----------------------------
[2024-07-30T23:52:18.457Z]   +     output_netcdf : ComplexData:mimetype:`application/x-netcdf`
[2024-07-30T23:52:18.457Z]   ?           +++++++
[2024-07-30T23:52:18.457Z]   -         The format depends on the 'output_format' input parameter.
[2024-07-30T23:52:18.458Z]   +         The indicator values computed on the original input grid.
[2024-07-30T23:52:18.458Z]         output_log : ComplexData:mimetype:`text/plain`
[2024-07-30T23:52:18.458Z]             Collected logs during process run.
[2024-07-30T23:52:18.458Z]         ref : ComplexData:mimetype:`application/metalink+xml; version=4.0`
[2024-07-30T23:52:18.458Z]             Metalink file storing all references to output files.
[2024-07-30T23:52:18.458Z]     
[2024-07-30T23:52:18.458Z] [0m
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 4 _
[2024-07-30T23:52:18.458Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.458Z] [94mCell 4: Cell outputs differ
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] Input:
[2024-07-30T23:52:18.458Z] [0m# Here we compute the annual summer (JJA) minimum
[2024-07-30T23:52:18.458Z] resp_stats = wps.stats(fn, variable="q_sim", op="min", season="JJA")
[2024-07-30T23:52:18.458Z] out, log, meta = resp_stats.get(asobj=True)
[2024-07-30T23:52:18.458Z] out.qsummermin.plot()
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] [94mTraceback:[0m
[2024-07-30T23:52:18.458Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z]   'Metalink con...DOM/out.nc.\n' == 'Downloading ...DOM/out.nc.\n'
[2024-07-30T23:52:18.458Z]   
[2024-07-30T23:52:18.458Z]   + Metalink content-type detected.
[2024-07-30T23:52:18.458Z]     Downloading to /tmp/tmpRANDOM/out.nc.
[2024-07-30T23:52:18.458Z] [0m
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 5 _
[2024-07-30T23:52:18.458Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.458Z] [94mCell 5: Cell outputs differ
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] Input:
[2024-07-30T23:52:18.458Z] [0mhelp(wps.freq_analysis)
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] [94mTraceback:[0m
[2024-07-30T23:52:18.458Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z]   'Help on meth...ut files.\n\n' == 'Help on meth...ut files.\n\n'
[2024-07-30T23:52:18.458Z]   
[2024-07-30T23:52:18.458Z]   Skipping 72 identical leading characters in diff, use -v to show
[2024-07-30T23:52:18.458Z]   - (da=None, mode=None, t=None, dist=None, window=1, freq=None, month=None, season=None, check_missing='any', missing_options=None, cf_compliance='warn', data_validation='raise', variable=None, output_name=None, output_format='netcdf', csv_precision=None, output_formats=None) method of birdy.client.base.WPSClient instance
[2024-07-30T23:52:18.458Z]   + (da=None, check_missing='any', cf_compliance='warn', data_validation='raise', mode=None, t=None, dist=None, window=1, freq=None, month=None, season=None, missing_options=None, variable=None) method of birdy.client.base.WPSClient instance
[2024-07-30T23:52:18.458Z]         Parameters
[2024-07-30T23:52:18.458Z]         ----------
[2024-07-30T23:52:18.458Z]         da : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`application/x-ogc-dods`
[2024-07-30T23:52:18.458Z]             NetCDF Files or archive (tar/zip) containing netCDF files.
[2024-07-30T23:52:18.458Z]         mode : {'max', 'min'}string
[2024-07-30T23:52:18.458Z]             Whether we are looking for a probability of exceedance (high) or a probability of non-exceedance (low).
[2024-07-30T23:52:18.458Z]         t : integer
[2024-07-30T23:52:18.458Z]             Return period. The period depends on the resolution of the input data. If the input array's resolution is yearly, then the return period is in years.
[2024-07-30T23:52:18.458Z]         dist : string
[2024-07-30T23:52:18.458Z]   -         Name of the univariate distribution, such as `beta`, `expon`, `genextreme`, `gamma`, `gumbel_r`, `lognorm`, `norm` (see scipy.stats).
[2024-07-30T23:52:18.458Z]   ?                                                      -    -  -     -  -          -  -     -  -        -  -       -  -    -
[2024-07-30T23:52:18.458Z]   +         Name of the univariate distribution, such as beta, expon, genextreme, gamma, gumbel_r, lognorm, norm (see scipy.stats).
[2024-07-30T23:52:18.458Z]         window : integer
[2024-07-30T23:52:18.458Z]             Averaging window length (days).
[2024-07-30T23:52:18.458Z]         freq : {'YS', 'MS', 'QS-DEC', 'AS-JUL'}string
[2024-07-30T23:52:18.458Z]             Resampling frequency. If None, the frequency is assumed to be 'YS' unless the indexer is season='DJF', in which case `freq` would be set to `AS-DEC`.
[2024-07-30T23:52:18.458Z]         month : {'1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ...}integer
[2024-07-30T23:52:18.458Z]             Months of the year over which to compute indicator.
[2024-07-30T23:52:18.458Z]         season : {'DJF', 'MAM', 'JJA', 'SON'}string
[2024-07-30T23:52:18.458Z]             Climatological season over which to compute indicator.
[2024-07-30T23:52:18.458Z]         check_missing : {'any', 'wmo', 'pct', 'at_least_n', 'skip', 'from_context'}string
[2024-07-30T23:52:18.458Z]             Method used to determine which aggregations should be considered missing.
[2024-07-30T23:52:18.458Z]         missing_options : ComplexData:mimetype:`application/json`
[2024-07-30T23:52:18.458Z]             JSON representation of dictionary of missing method parameters.
[2024-07-30T23:52:18.458Z]         cf_compliance : {'log', 'warn', 'raise'}string
[2024-07-30T23:52:18.458Z]             Whether to log, warn or raise when inputs have non-CF-compliant attributes.
[2024-07-30T23:52:18.458Z]         data_validation : {'log', 'warn', 'raise'}string
[2024-07-30T23:52:18.458Z]             Whether to log, warn or raise when inputs fail data validation checks.
[2024-07-30T23:52:18.458Z]         variable : string
[2024-07-30T23:52:18.458Z]             Name of the variable in the NetCDF file.
[2024-07-30T23:52:18.458Z]   -     output_name : string
[2024-07-30T23:52:18.458Z]   -         Filename of the output (no extension).
[2024-07-30T23:52:18.458Z]   -     output_format : {'netcdf', 'csv'}string
[2024-07-30T23:52:18.458Z]   -         Choose in which format you want to receive the result. CSV actually means a zip file of two csv files.
[2024-07-30T23:52:18.458Z]   -     csv_precision : integer
[2024-07-30T23:52:18.458Z]   -         Only valid if output_format is CSV. If not set, all decimal places of a 64 bit floating precision number are printed. If negative, rounds before the decimal point.
[2024-07-30T23:52:18.458Z]         
[2024-07-30T23:52:18.458Z]         Returns
[2024-07-30T23:52:18.458Z]         -------
[2024-07-30T23:52:18.458Z]   -     output : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`application/zip`
[2024-07-30T23:52:18.458Z]   ?                                                         -----------------------------
[2024-07-30T23:52:18.458Z]   +     output_netcdf : ComplexData:mimetype:`application/x-netcdf`
[2024-07-30T23:52:18.458Z]   ?           +++++++
[2024-07-30T23:52:18.458Z]   -         The format depends on the 'output_format' input parameter.
[2024-07-30T23:52:18.458Z]   +         The indicator values computed on the original input grid.
[2024-07-30T23:52:18.458Z]         output_log : ComplexData:mimetype:`text/plain`
[2024-07-30T23:52:18.458Z]             Collected logs during process run.
[2024-07-30T23:52:18.458Z]         ref : ComplexData:mimetype:`application/metalink+xml; version=4.0`
[2024-07-30T23:52:18.458Z]             Metalink file storing all references to output files.
[2024-07-30T23:52:18.458Z]     
[2024-07-30T23:52:18.458Z] [0m
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 7 _
[2024-07-30T23:52:18.458Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.458Z] [94mCell 7: Cell outputs differ
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] Input:
[2024-07-30T23:52:18.458Z] [0mout, log, meta = resp_fa.get(asobj=True)
[2024-07-30T23:52:18.458Z] out.q7minannual
[2024-07-30T23:52:18.458Z] 
[2024-07-30T23:52:18.458Z] [94mTraceback:[0m
[2024-07-30T23:52:18.459Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]   'Metalink con...DOM/out.nc.\n' == 'Downloading ...DOM/out.nc.\n'
[2024-07-30T23:52:18.459Z]   
[2024-07-30T23:52:18.459Z]   + Metalink content-type detected.
[2024-07-30T23:52:18.459Z]     Downloading to /tmp/tmpRANDOM/out.nc.
[2024-07-30T23:52:18.459Z] [0m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 8 _
[2024-07-30T23:52:18.459Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.459Z] [94mCell 8: Cell outputs differ
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] Input:
[2024-07-30T23:52:18.459Z] [0mresp_fa2 = wps.freq_analysis(
[2024-07-30T23:52:18.459Z]     fn, variable="q_sim", mode="max", t=(2, 5, 10, 25, 50, 100), dist="gumbel_r"
[2024-07-30T23:52:18.459Z] )
[2024-07-30T23:52:18.459Z] out, log, meta = resp_fa2.get(asobj=True)
[2024-07-30T23:52:18.459Z] out.q1maxannual.plot()
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] [94mTraceback:[0m
[2024-07-30T23:52:18.459Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]   'Metalink con...DOM/out.nc.\n' == 'Downloading ...DOM/out.nc.\n'
[2024-07-30T23:52:18.459Z]   
[2024-07-30T23:52:18.459Z]   + Metalink content-type detected.
[2024-07-30T23:52:18.459Z]     Downloading to /tmp/tmpRANDOM/out.nc.
[2024-07-30T23:52:18.459Z] [0m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 9 _
[2024-07-30T23:52:18.459Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.459Z] [94mCell 9: Cell outputs differ
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] Input:
[2024-07-30T23:52:18.459Z] [0mds = xr.open_dataset(fn)
[2024-07-30T23:52:18.459Z] ds
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] [94mTraceback:[0m
[2024-07-30T23:52:18.459Z] [94m mismatch 'text/plain'[91m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]   '<xarray.Data...andard Output' == '<xarray.Data...andard Output'
[2024-07-30T23:52:18.459Z]   
[2024-07-30T23:52:18.459Z]   - <xarray.Dataset> Size: 146kB
[2024-07-30T23:52:18.459Z]   + <xarray.Dataset>
[2024-07-30T23:52:18.459Z]     Dimensions:     (time: 3654, nbasins: 1)
[2024-07-30T23:52:18.459Z]     Coordinates:
[2024-07-30T23:52:18.459Z]   -   * time        (time) datetime64[ns] 29kB/DATE/2000-01-02 ... 2010-01-01
[2024-07-30T23:52:18.459Z]   ?                                      -----
[2024-07-30T23:52:18.459Z]   +   * time        (time) datetime64[ns]/DATE/2000-01-02 ... 2010-01-01
[2024-07-30T23:52:18.459Z]   -     basin_name  (nbasins) <U9 36B ...
[2024-07-30T23:52:18.459Z]   ?                           ^^^^^^^
[2024-07-30T23:52:18.459Z]   +     basin_name  (nbasins) object ...
[2024-07-30T23:52:18.459Z]   ?                           ^^^^^^
[2024-07-30T23:52:18.459Z]     Dimensions without coordinates: nbasins
[2024-07-30T23:52:18.459Z]     Data variables:
[2024-07-30T23:52:18.459Z]   -     precip      (time) float64 29kB ...
[2024-07-30T23:52:18.459Z]   ?                                -----
[2024-07-30T23:52:18.459Z]   +     precip      (time) float64 ...
[2024-07-30T23:52:18.459Z]   -     q_sim       (time, nbasins) float64 29kB ...
[2024-07-30T23:52:18.459Z]   ?                                         -----
[2024-07-30T23:52:18.459Z]   +     q_sim       (time, nbasins) float64 ...
[2024-07-30T23:52:18.459Z]   -     q_obs       (time, nbasins) float64 29kB ...
[2024-07-30T23:52:18.459Z]   ?                                         -----
[2024-07-30T23:52:18.459Z]   +     q_obs       (time, nbasins) float64 ...
[2024-07-30T23:52:18.459Z]   -     q_in        (time, nbasins) float64 29kB ...
[2024-07-30T23:52:18.459Z]   ?                                         -----
[2024-07-30T23:52:18.459Z]   +     q_in        (time, nbasins) float64 ...
[2024-07-30T23:52:18.459Z]     Attributes:
[2024-07-30T23:52:18.459Z]         Conventions:  CF-1.6
[2024-07-30T23:52:18.459Z]         featureType:  timeSeries
[2024-07-30T23:52:18.459Z]         history:      Created by Raven
[2024-07-30T23:52:18.459Z]         description:  Standard Output
[2024-07-30T23:52:18.459Z] [0m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 11 _
[2024-07-30T23:52:18.459Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.459Z] [94mCell 11: Cell outputs differ
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] Input:
[2024-07-30T23:52:18.459Z] [0mda = resp_stats2.get(asobj=True)[0]
[2024-07-30T23:52:18.459Z] da.qannualmax.isel(nbasins=0)
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] [94mTraceback:[0m
[2024-07-30T23:52:18.459Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]   'Metalink con...DOM/out.nc.\n' == 'Downloading ...DOM/out.nc.\n'
[2024-07-30T23:52:18.459Z]   
[2024-07-30T23:52:18.459Z]   + Metalink content-type detected.
[2024-07-30T23:52:18.459Z]     Downloading to /tmp/tmpRANDOM/out.nc.
[2024-07-30T23:52:18.459Z] [0m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 12 _
[2024-07-30T23:52:18.459Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.459Z] [94mCell 12: Cell outputs differ
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] Input:
[2024-07-30T23:52:18.459Z] [0mresp = wps.fit(ts, dist="gumbel_r", check_missing="skip")
[2024-07-30T23:52:18.459Z] pa_fn = resp.get()[0]
[2024-07-30T23:52:18.459Z] pa = resp.get(True)[0]
[2024-07-30T23:52:18.459Z] pa.params
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] [94mTraceback:[0m
[2024-07-30T23:52:18.459Z] [94m mismatch 'stdout'[91m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]  assert reference_output == test_output failed:
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z]   'Metalink con...M/out-1.nc.\n' == 'Downloading ...M/out-1.nc.\n'
[2024-07-30T23:52:18.459Z]   
[2024-07-30T23:52:18.459Z]   + Metalink content-type detected.
[2024-07-30T23:52:18.459Z]     Downloading to /tmp/tmpRANDOM/out-1.nc.
[2024-07-30T23:52:18.459Z] [0m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] _ PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 13 _
[2024-07-30T23:52:18.459Z] [91mNotebook cell execution failed[0m
[2024-07-30T23:52:18.459Z] [94mCell 13: Cell execution caused an exception
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] Input:
[2024-07-30T23:52:18.459Z] [0murl = os.environ.get(
[2024-07-30T23:52:18.459Z]     "WPS_URL", "https://pavics.ouranos.ca/twitcher/ows/proxy/raven/wps"
[2024-07-30T23:52:18.459Z] )
[2024-07-30T23:52:18.459Z] raven = WPSClient(url)
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] resp = raven.graph_fit(ts=ts, params=pa_fn)
[2024-07-30T23:52:18.459Z] resp.get(asobj=True)[0]
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] [94mTraceback:[0m
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] [0;31m---------------------------------------------------------------------------[0m
[2024-07-30T23:52:18.459Z] [0;31mAttributeError[0m                            Traceback (most recent call last)
[2024-07-30T23:52:18.459Z] Cell [0;32mIn[1], line 6[0m
[2024-07-30T23:52:18.459Z] [1;32m      1[0m url [38;5;241m=[39m os[38;5;241m.[39menviron[38;5;241m.[39mget(
[2024-07-30T23:52:18.459Z] [1;32m      2[0m     [38;5;124m"[39m[38;5;124mWPS_URL[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mhttps://pavics.ouranos.ca/twitcher/ows/proxy/raven/wps[39m[38;5;124m"[39m
[2024-07-30T23:52:18.459Z] [1;32m      3[0m )
[2024-07-30T23:52:18.459Z] [1;32m      4[0m raven [38;5;241m=[39m WPSClient(url)
[2024-07-30T23:52:18.459Z] [0;32m----> 6[0m resp [38;5;241m=[39m [43mraven[49m[38;5;241;43m.[39;49m[43mgraph_fit[49m(ts[38;5;241m=[39mts, params[38;5;241m=[39mpa_fn)
[2024-07-30T23:52:18.459Z] [1;32m      7[0m resp[38;5;241m.[39mget(asobj[38;5;241m=[39m[38;5;28;01mTrue[39;00m)[[38;5;241m0[39m]
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] [0;31mAttributeError[0m: 'WPSClient' object has no attribute 'graph_fit'
[2024-07-30T23:52:18.459Z] 
[2024-07-30T23:52:18.459Z] =========================== short test summary info ============================
[2024-07-30T23:52:18.459Z] FAILED pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb::Cell 8
[2024-07-30T23:52:18.459Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 3
[2024-07-30T23:52:18.459Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 5
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 7
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 9
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 10
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 13
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Extract_geographical_watershed_properties.ipynb::Cell 16
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb::Cell 1
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb::Cell 2
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Hydrological_realtime_forecasting.ipynb::Cell 3
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 0
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 1
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 2
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 3
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 4
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Model_calibration.ipynb::Cell 5
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 1
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 2
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 3
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 4
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 5
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 6
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/Running_hydrological_models_on_a_remote_server.ipynb::Cell 7
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 1
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 2
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 3
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 4
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 5
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 7
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 8
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 9
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 11
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 12
[2024-07-30T23:52:18.460Z] FAILED PAVICS-landing-new-jupyter-env/content/notebooks/hydrology/time_series_analysis.ipynb::Cell 13
[2024-07-30T23:52:18.460Z] ============ 35 failed, 232 passed, 1 skipped in 904.21s (0:15:04) =============
[2024-07-30T23:52:18.460Z] + EXIT_CODE=1
[2024-07-30T23:52:18.460Z] + echo true
[2024-07-30T23:52:18.460Z] + tr [:upper:] [:lower:]
[2024-07-30T23:52:18.460Z] + SAVE_RESULTING_NOTEBOOK=true
[2024-07-30T23:52:18.460Z] + [ xtrue = xtrue ]
[2024-07-30T23:52:18.460Z] + mkdir -p buildout
[2024-07-30T23:52:18.460Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/CaSR_basic.ipynb
[2024-07-30T23:52:18.460Z] + filename=CaSR_basic.ipynb
[2024-07-30T23:52:18.460Z] + + echo CaSR_basic.ipynb
[2024-07-30T23:52:18.460Z] sed s/.ipynb$//
[2024-07-30T23:52:18.460Z] + filename=CaSR_basic
[2024-07-30T23:52:18.460Z] + [ -e buildout/CaSR_basic.output.ipynb ]
[2024-07-30T23:52:18.460Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output CaSR_basic.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/CaSR_basic.ipynb
[2024-07-30T23:52:19.451Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/CaSR_basic.ipynb to notebook
[2024-07-30T23:53:15.805Z] [NbConvertApp] Writing 730117 bytes to buildout/CaSR_basic.output.ipynb
[2024-07-30T23:53:15.805Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/WCS_example.ipynb
[2024-07-30T23:53:15.805Z] + filename=WCS_example.ipynb
[2024-07-30T23:53:15.805Z] + echo WCS_example.ipynb
[2024-07-30T23:53:15.805Z] + sed s/.ipynb$//
[2024-07-30T23:53:15.805Z] + filename=WCS_example
[2024-07-30T23:53:15.805Z] + [ -e buildout/WCS_example.output.ipynb ]
[2024-07-30T23:53:15.805Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output WCS_example.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WCS_example.ipynb
[2024-07-30T23:53:17.723Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/WCS_example.ipynb to notebook
[2024-07-30T23:53:30.031Z] [NbConvertApp] Writing 153905 bytes to buildout/WCS_example.output.ipynb
[2024-07-30T23:53:30.031Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/WFS_example.ipynb
[2024-07-30T23:53:30.031Z] + filename=WFS_example.ipynb
[2024-07-30T23:53:30.031Z] + + echo WFS_example.ipynb
[2024-07-30T23:53:30.031Z] sed s/.ipynb$//
[2024-07-30T23:53:30.031Z] + filename=WFS_example
[2024-07-30T23:53:30.031Z] + [ -e buildout/WFS_example.output.ipynb ]
[2024-07-30T23:53:30.031Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output WFS_example.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WFS_example.ipynb
[2024-07-30T23:53:30.599Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/WFS_example.ipynb to notebook
[2024-07-30T23:53:40.611Z] [NbConvertApp] Writing 44572 bytes to buildout/WFS_example.output.ipynb
[2024-07-30T23:53:40.611Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/WMS_example.ipynb
[2024-07-30T23:53:40.611Z] + filename=WMS_example.ipynb
[2024-07-30T23:53:40.611Z] + echo WMS_example.ipynb
[2024-07-30T23:53:40.611Z] + sed s/.ipynb$//
[2024-07-30T23:53:40.611Z] + filename=WMS_example
[2024-07-30T23:53:40.611Z] + [ -e buildout/WMS_example.output.ipynb ]
[2024-07-30T23:53:40.611Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output WMS_example.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/WMS_example.ipynb
[2024-07-30T23:53:43.149Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/WMS_example.ipynb to notebook
[2024-07-30T23:53:51.280Z] [NbConvertApp] Writing 2048355 bytes to buildout/WMS_example.output.ipynb
[2024-07-30T23:53:51.280Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb
[2024-07-30T23:53:51.280Z] + filename=climex.ipynb
[2024-07-30T23:53:51.280Z] + echo climex.ipynb
[2024-07-30T23:53:51.280Z] + sed s/.ipynb$//
[2024-07-30T23:53:51.280Z] + filename=climex
[2024-07-30T23:53:51.280Z] + [ -e buildout/climex.output.ipynb ]
[2024-07-30T23:53:51.280Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output climex.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb
[2024-07-30T23:53:52.656Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/climex.ipynb to notebook
[2024-07-30T23:58:14.860Z] [NbConvertApp] Writing 1782749 bytes to buildout/climex.output.ipynb
[2024-07-30T23:58:14.860Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-climate-stations.ipynb
[2024-07-30T23:58:14.860Z] + filename=eccc-geoapi-climate-stations.ipynb
[2024-07-30T23:58:14.860Z] + + echo eccc-geoapi-climate-stations.ipynb
[2024-07-30T23:58:14.860Z] sed s/.ipynb$//
[2024-07-30T23:58:14.860Z] + filename=eccc-geoapi-climate-stations
[2024-07-30T23:58:14.860Z] + [ -e buildout/eccc-geoapi-climate-stations.output.ipynb ]
[2024-07-30T23:58:14.860Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output eccc-geoapi-climate-stations.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-climate-stations.ipynb
[2024-07-30T23:58:14.860Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-climate-stations.ipynb to notebook
[2024-07-30T23:58:24.922Z] [NbConvertApp] Writing 331785 bytes to buildout/eccc-geoapi-climate-stations.output.ipynb
[2024-07-30T23:58:24.922Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-xclim.ipynb
[2024-07-30T23:58:24.922Z] + filename=eccc-geoapi-xclim.ipynb
[2024-07-30T23:58:24.922Z] + + echo eccc-geoapi-xclim.ipynb
[2024-07-30T23:58:24.922Z] sed s/.ipynb$//
[2024-07-30T23:58:24.922Z] + filename=eccc-geoapi-xclim
[2024-07-30T23:58:24.922Z] + [ -e buildout/eccc-geoapi-xclim.output.ipynb ]
[2024-07-30T23:58:24.922Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output eccc-geoapi-xclim.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-xclim.ipynb
[2024-07-30T23:58:25.493Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/eccc-geoapi-xclim.ipynb to notebook
[2024-07-30T23:58:35.480Z] [NbConvertApp] Writing 106230 bytes to buildout/eccc-geoapi-xclim.output.ipynb
[2024-07-30T23:58:35.480Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/esgf-dap.ipynb
[2024-07-30T23:58:35.480Z] + filename=esgf-dap.ipynb
[2024-07-30T23:58:35.480Z] + + echo esgf-dap.ipynb
[2024-07-30T23:58:35.480Z] sed s/.ipynb$//
[2024-07-30T23:58:35.480Z] + filename=esgf-dap
[2024-07-30T23:58:35.480Z] + [ -e buildout/esgf-dap.output.ipynb ]
[2024-07-30T23:58:35.480Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output esgf-dap.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/esgf-dap.ipynb
[2024-07-30T23:58:38.025Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/esgf-dap.ipynb to notebook
[2024-07-30T23:58:46.186Z] [NbConvertApp] Writing 63679 bytes to buildout/esgf-dap.output.ipynb
[2024-07-30T23:58:46.186Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/forecasts.ipynb
[2024-07-30T23:58:46.186Z] + filename=forecasts.ipynb
[2024-07-30T23:58:46.186Z] + echo forecasts.ipynb
[2024-07-30T23:58:46.186Z] + sed s/.ipynb$//
[2024-07-30T23:58:46.186Z] + filename=forecasts
[2024-07-30T23:58:46.186Z] + [ -e buildout/forecasts.output.ipynb ]
[2024-07-30T23:58:46.186Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output forecasts.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/forecasts.ipynb
[2024-07-30T23:58:47.580Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/forecasts.ipynb to notebook
[2024-07-30T23:59:09.529Z] [NbConvertApp] Writing 166041 bytes to buildout/forecasts.output.ipynb
[2024-07-30T23:59:09.529Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/jupyter_extensions.ipynb
[2024-07-30T23:59:09.529Z] + filename=jupyter_extensions.ipynb
[2024-07-30T23:59:09.529Z] + + sed s/.ipynb$//
[2024-07-30T23:59:09.529Z] echo jupyter_extensions.ipynb
[2024-07-30T23:59:09.529Z] + filename=jupyter_extensions
[2024-07-30T23:59:09.529Z] + [ -e buildout/jupyter_extensions.output.ipynb ]
[2024-07-30T23:59:09.529Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output jupyter_extensions.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/jupyter_extensions.ipynb
[2024-07-30T23:59:09.529Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/jupyter_extensions.ipynb to notebook
[2024-07-30T23:59:10.491Z] [NbConvertApp] Writing 7996 bytes to buildout/jupyter_extensions.output.ipynb
[2024-07-30T23:59:10.758Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/opendap.ipynb
[2024-07-30T23:59:10.758Z] + filename=opendap.ipynb
[2024-07-30T23:59:10.758Z] + echo+  opendap.ipynb
[2024-07-30T23:59:10.758Z] sed s/.ipynb$//
[2024-07-30T23:59:10.758Z] + filename=opendap
[2024-07-30T23:59:10.758Z] + [ -e buildout/opendap.output.ipynb ]
[2024-07-30T23:59:10.758Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output opendap.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/opendap.ipynb
[2024-07-30T23:59:13.300Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/opendap.ipynb to notebook
[2024-07-30T23:59:45.583Z] [NbConvertApp] Writing 95159 bytes to buildout/opendap.output.ipynb
[2024-07-30T23:59:45.583Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/pavics_thredds.ipynb
[2024-07-30T23:59:45.583Z] + filename=pavics_thredds.ipynb
[2024-07-30T23:59:45.583Z] + echo pavics_thredds.ipynb
[2024-07-30T23:59:45.583Z] + sed s/.ipynb$//
[2024-07-30T23:59:45.583Z] + filename=pavics_thredds
[2024-07-30T23:59:45.583Z] + [ -e buildout/pavics_thredds.output.ipynb ]
[2024-07-30T23:59:45.583Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output pavics_thredds.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/pavics_thredds.ipynb
[2024-07-30T23:59:46.960Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/pavics_thredds.ipynb to notebook
[2024-07-30T23:59:50.323Z] syntax error, unexpected WORD_WORD, expecting SCAN_ATTR or SCAN_DATASET or SCAN_ERROR
[2024-07-30T23:59:50.323Z] context: <?xml^ version="1.0" encoding="utf-8"?><ExceptionReport version="1.0.0" xmlns="http://www.opengis.net/ows/1.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/ows/1.1 http://schemas.opengis.net/ows/1.1.0/owsExceptionReport.xsd"> <Exception exceptionCode="NoApplicableCode" locator="AccessForbidden"> <ExceptionText>Access to service is forbidden.</ExceptionText> </Exception></ExceptionReport>
[2024-07-30T23:59:50.582Z] syntax error, unexpected WORD_WORD, expecting SCAN_ATTR or SCAN_DATASET or SCAN_ERROR
[2024-07-30T23:59:50.582Z] context: <?xml^ version="1.0" encoding="utf-8"?><ExceptionReport version="1.0.0" xmlns="http://www.opengis.net/ows/1.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/ows/1.1 http://schemas.opengis.net/ows/1.1.0/owsExceptionReport.xsd"> <Exception exceptionCode="NoApplicableCode" locator="AccessForbidden"> <ExceptionText>Access to service is forbidden.</ExceptionText> </Exception></ExceptionReport>
[2024-07-30T23:59:53.907Z] [NbConvertApp] Writing 90871 bytes to buildout/pavics_thredds.output.ipynb
[2024-07-30T23:59:53.907Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/regridding.ipynb
[2024-07-30T23:59:53.907Z] + filename=regridding.ipynb
[2024-07-30T23:59:53.907Z] + echo regridding.ipynb
[2024-07-30T23:59:53.907Z] + sed s/.ipynb$//
[2024-07-30T23:59:53.907Z] + filename=regridding
[2024-07-30T23:59:53.907Z] + [ -e buildout/regridding.output.ipynb ]
[2024-07-30T23:59:53.907Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output regridding.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/regridding.ipynb
[2024-07-30T23:59:55.810Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/regridding.ipynb to notebook
[2024-07-31T00:01:32.359Z] [NbConvertApp] Writing 1239790 bytes to buildout/regridding.output.ipynb
[2024-07-31T00:01:32.359Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/rendering.ipynb
[2024-07-31T00:01:32.359Z] + filename=rendering.ipynb
[2024-07-31T00:01:32.359Z] + echo rendering.ipynb
[2024-07-31T00:01:32.359Z] + sed s/.ipynb$//
[2024-07-31T00:01:32.359Z] + filename=rendering
[2024-07-31T00:01:32.359Z] + [ -e buildout/rendering.output.ipynb ]
[2024-07-31T00:01:32.360Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output rendering.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/rendering.ipynb
[2024-07-31T00:01:34.898Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/rendering.ipynb to notebook
[2024-07-31T00:01:41.496Z] [NbConvertApp] Writing 11800 bytes to buildout/rendering.output.ipynb
[2024-07-31T00:01:41.496Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/subset-user-input.ipynb
[2024-07-31T00:01:41.496Z] + filename=subset-user-input.ipynb
[2024-07-31T00:01:41.496Z] + echo subset-user-input.ipynb
[2024-07-31T00:01:41.496Z] + sed s/.ipynb$//
[2024-07-31T00:01:41.496Z] + filename=subset-user-input
[2024-07-31T00:01:41.496Z] + [ -e buildout/subset-user-input.output.ipynb ]
[2024-07-31T00:01:41.496Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output subset-user-input.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/subset-user-input.ipynb
[2024-07-31T00:01:43.411Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/subset-user-input.ipynb to notebook
[2024-07-31T00:02:10.012Z] [NbConvertApp] Writing 256096 bytes to buildout/subset-user-input.output.ipynb
[2024-07-31T00:02:10.012Z] + basename pavics-sdi-new-jupyter-env/docs/source/notebooks/subsetting.ipynb
[2024-07-31T00:02:10.012Z] + filename=subsetting.ipynb
[2024-07-31T00:02:10.012Z] + + echosed subsetting.ipynb s/.ipynb$//
[2024-07-31T00:02:10.012Z] 
[2024-07-31T00:02:10.012Z] + filename=subsetting
[2024-07-31T00:02:10.012Z] + [ -e buildout/subsetting.output.ipynb ]
[2024-07-31T00:02:10.012Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output subsetting.output.ipynb pavics-sdi-new-jupyter-env/docs/source/notebooks/subsetting.ipynb
[2024-07-31T00:02:10.012Z] [NbConvertApp] Converting notebook pavics-sdi-new-jupyter-env/docs/source/notebooks/subsetting.ipynb to notebook
[2024-07-31T00:02:18.164Z] [NbConvertApp] Writing 93385 bytes to buildout/subsetting.output.ipynb
[2024-07-31T00:02:18.164Z] + basename finch-master/docs/source/notebooks/dap_subset.ipynb
[2024-07-31T00:02:18.164Z] + filename=dap_subset.ipynb
[2024-07-31T00:02:18.164Z] + echo dap_subset.ipynb
[2024-07-31T00:02:18.164Z] + sed s/.ipynb$//
[2024-07-31T00:02:18.164Z] + filename=dap_subset
[2024-07-31T00:02:18.164Z] + [ -e buildout/dap_subset.output.ipynb ]
[2024-07-31T00:02:18.164Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output dap_subset.output.ipynb finch-master/docs/source/notebooks/dap_subset.ipynb
[2024-07-31T00:02:20.071Z] [NbConvertApp] Converting notebook finch-master/docs/source/notebooks/dap_subset.ipynb to notebook
[2024-07-31T00:02:32.303Z] [NbConvertApp] Writing 163227 bytes to buildout/dap_subset.output.ipynb
[2024-07-31T00:02:32.303Z] + basename finch-master/docs/source/notebooks/finch-usage.ipynb
[2024-07-31T00:02:32.303Z] + filename=finch-usage.ipynb
[2024-07-31T00:02:32.303Z] + + echo finch-usage.ipynb
[2024-07-31T00:02:32.303Z] sed s/.ipynb$//
[2024-07-31T00:02:32.303Z] + filename=finch-usage
[2024-07-31T00:02:32.303Z] + [ -e buildout/finch-usage.output.ipynb ]
[2024-07-31T00:02:32.303Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output finch-usage.output.ipynb finch-master/docs/source/notebooks/finch-usage.ipynb
[2024-07-31T00:02:33.075Z] [NbConvertApp] Converting notebook finch-master/docs/source/notebooks/finch-usage.ipynb to notebook
[2024-07-31T00:02:45.344Z] [NbConvertApp] Writing 65184 bytes to buildout/finch-usage.output.ipynb
[2024-07-31T00:02:45.344Z] + basename PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb
[2024-07-31T00:02:45.344Z] + filename=PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb
[2024-07-31T00:02:45.344Z] + + echo PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb
[2024-07-31T00:02:45.344Z] sed s/.ipynb$//
[2024-07-31T00:02:45.344Z] + filename=PAVICStutorial_ClimateDataAnalysis-1DataAccess
[2024-07-31T00:02:45.344Z] + [ -e buildout/PAVICStutorial_ClimateDataAnalysis-1DataAccess.output.ipynb ]
[2024-07-31T00:02:45.344Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output PAVICStutorial_ClimateDataAnalysis-1DataAccess.output.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb
[2024-07-31T00:02:45.911Z] [NbConvertApp] Converting notebook PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-1DataAccess.ipynb to notebook
[2024-07-31T00:02:52.484Z] [NbConvertApp] Writing 173128 bytes to buildout/PAVICStutorial_ClimateDataAnalysis-1DataAccess.output.ipynb
[2024-07-31T00:02:52.484Z] + basename PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb
[2024-07-31T00:02:52.484Z] + filename=PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb
[2024-07-31T00:02:52.484Z] + + echo PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb
[2024-07-31T00:02:52.484Z] sed s/.ipynb$//
[2024-07-31T00:02:52.484Z] + filename=PAVICStutorial_ClimateDataAnalysis-2Subsetting
[2024-07-31T00:02:52.484Z] + [ -e buildout/PAVICStutorial_ClimateDataAnalysis-2Subsetting.output.ipynb ]
[2024-07-31T00:02:52.484Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output PAVICStutorial_ClimateDataAnalysis-2Subsetting.output.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb
[2024-07-31T00:02:53.863Z] [NbConvertApp] Converting notebook PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-2Subsetting.ipynb to notebook
[2024-07-31T00:03:15.853Z] [NbConvertApp] Writing 1481429 bytes to buildout/PAVICStutorial_ClimateDataAnalysis-2Subsetting.output.ipynb
[2024-07-31T00:03:15.853Z] + basename PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb
[2024-07-31T00:03:15.853Z] + filename=PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb
[2024-07-31T00:03:15.854Z] + echo PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb
[2024-07-31T00:03:15.854Z] + sed s/.ipynb$//
[2024-07-31T00:03:15.854Z] + filename=PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators
[2024-07-31T00:03:15.854Z] + [ -e buildout/PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.output.ipynb ]
[2024-07-31T00:03:15.854Z] + jupyter nbconvert --to notebook --execute --ExecutePreprocessor.timeout=600 --allow-errors --output-dir buildout --output PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.output.ipynb PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb
[2024-07-31T00:03:17.761Z] [NbConvertApp] Converting notebook PAVICS-landing-new-jupyter-env/content/notebooks/climate_indicators/PAVICStutorial_ClimateDataAnalysis-3Climate-Indicators.ipynb to notebook
Resuming build at Wed Jul 31 00:14:10 UTC 2024 after Jenkins restart
Waiting to resume part of PAVICS-e2e-workflow-tests  new-docker-build #3: Finished waiting
Ready to run at Wed Jul 31 00:14:17 UTC 2024
[2024-07-31T00:14:17.534Z] Timeout set to expire in 1 hr 20 min
[2024-07-31T00:15:09.545Z] Sending interrupt signal to process
Aborted by admin
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] archiveArtifacts
[2024-07-31T00:15:16.044Z] Archiving artifacts
[2024-07-31T00:15:16.657Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:16.756Z] Archiving artifacts
[2024-07-31T00:15:17.819Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:18.002Z] Archiving artifacts
[2024-07-31T00:15:18.050Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:18.096Z] Archiving artifacts
[2024-07-31T00:15:18.135Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:18.173Z] Archiving artifacts
[2024-07-31T00:15:18.209Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:18.254Z] Archiving artifacts
[2024-07-31T00:15:18.313Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:18.427Z] Archiving artifacts
[2024-07-31T00:15:18.443Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:18.492Z] Archiving artifacts
[2024-07-31T00:15:18.562Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:18.611Z] Archiving artifacts
[2024-07-31T00:15:19.072Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:19.141Z] Archiving artifacts
[2024-07-31T00:15:20.376Z] Recording fingerprints
[Pipeline] archiveArtifacts
[2024-07-31T00:15:20.522Z] Archiving artifacts
[Pipeline] emailextrecipients
[2024-07-31T00:15:20.586Z] Failed to send e-mail to admin because no e-mail address is known, and no default e-mail domain is configured
[Pipeline] step
[2024-07-31T00:15:20.614Z] No mail will be sent out, as 'PAVICS-e2e-workflow-tests  new-docker-build #3' does not have a result yet. Please make sure you set a proper result in case of pipeline/build scripts.
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // timeout
[Pipeline] }
[Pipeline] // timestamps
[Pipeline] }
[Pipeline] // ansiColor
[Pipeline] }
$ docker stop --time=1 aabd1c2a4f4550d7c32bc7018e70eb5a25a83707b6503910a56dd5e3439671b2
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
java.io.IOException: failed to run ps
	at org.jenkinsci.plugins.docker.workflow.WithContainerStep$Decorator$1.kill(WithContainerStep.java:342)
	at org.jenkinsci.plugins.durabletask.FileMonitoringTask$FileMonitoringController.stop(FileMonitoringTask.java:345)
	at org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution.stop(DurableTaskStep.java:512)
	at org.jenkinsci.plugins.workflow.cps.CpsThread.stop(CpsThread.java:306)
	at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution$6.onSuccess(CpsFlowExecution.java:1151)
	at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution$6.onSuccess(CpsFlowExecution.java:1140)
	at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution$4$1.run(CpsFlowExecution.java:907)
	at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$1.run(CpsVmExecutorService.java:38)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:131)
	at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)
	at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
java.io.IOException: Failed to kill container 'aabd1c2a4f4550d7c32bc7018e70eb5a25a83707b6503910a56dd5e3439671b2'.
	at org.jenkinsci.plugins.docker.workflow.client.DockerClient.stop(DockerClient.java:176)
	at org.jenkinsci.plugins.docker.workflow.WithContainerStep.destroy(WithContainerStep.java:110)
	at org.jenkinsci.plugins.docker.workflow.WithContainerStep.access$400(WithContainerStep.java:77)
	at org.jenkinsci.plugins.docker.workflow.WithContainerStep$Callback.finished(WithContainerStep.java:392)
	at org.jenkinsci.plugins.workflow.steps.BodyExecutionCallback$TailCall.onFailure(BodyExecutionCallback.java:128)
	at org.jenkinsci.plugins.workflow.cps.CpsBodyExecution$FailureAdapter.receive(CpsBodyExecution.java:361)
	at com.cloudbees.groovy.cps.impl.ThrowBlock$1.receive(ThrowBlock.java:68)
	at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)
	at com.cloudbees.groovy.cps.Next.step(Next.java:83)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)
	at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)
	at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)
	at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)
	at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:370)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$200(CpsThreadGroup.java:93)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:282)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:270)
	at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:67)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:131)
	at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)
	at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Finished: ABORTED
